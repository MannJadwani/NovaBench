{
  "text": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>VoxelCraft - Three.js Minecraft Clone</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <style>\n        body { \n            margin: 0; \n            overflow: hidden; \n            cursor: crosshair;\n        }\n        #gameCanvas { \n            display: block; \n        }\n        .block-button {\n            transition: all 0.2s ease;\n            transform-origin: center;\n        }\n        .block-button:hover {\n            transform: scale(1.1);\n        }\n        .block-button.active {\n            transform: scale(1.15);\n            box-shadow: 0 0 15px rgba(59, 130, 246, 0.8);\n        }\n    </style>\n</head>\n<body class=\"bg-gray-900 text-white\">\n    <div id=\"gameContainer\" class=\"relative w-full h-screen\">\n        <canvas id=\"gameCanvas\"></canvas>\n        \n        <!-- Crosshair -->\n        <div class=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n            <div class=\"w-4 h-4 border-2 border-white relative\">\n                <div class=\"absolute w-full h-0.5 bg-white top-1/2 transform -translate-y-1/2\"></div>\n                <div class=\"absolute h-full w-0.5 bg-white left-1/2 transform -translate-x-1/2\"></div>\n            </div>\n        </div>\n        \n        <!-- HUD -->\n        <div class=\"absolute top-4 left-4 bg-black bg-opacity-50 p-4 rounded-lg\">\n            <div class=\"text-lg font-bold mb-2\">VoxelCraft</div>\n            <div class=\"text-sm\">Block: <span id=\"selectedBlock\">Grass</span></div>\n            <div class=\"text-sm\">Position: <span id=\"playerPosition\">0, 0, 0</span></div>\n        </div>\n        \n        <!-- Time/Day Cycle -->\n        <div class=\"absolute top-4 right-4 bg-black bg-opacity-50 p-4 rounded-lg\">\n            <div class=\"text-lg font-bold mb-2\">\n                <span id=\"timeOfDay\">Day</span>\n            </div>\n            <div class=\"flex items-center\">\n                <div class=\"w-4 h-4 rounded-full mr-2\" id=\"sunMoonIndicator\"></div>\n                <div class=\"text-sm\" id=\"timeText\">12:00</div>\n            </div>\n        </div>\n        \n        <!-- Controls Info -->\n        <div class=\"absolute bottom-4 left-4 bg-black bg-opacity-50 p-4 rounded-lg text-sm\">\n            <div class=\"font-bold mb-1\">Controls:</div>\n            <div>WASD - Move</div>\n            <div>Mouse - Look</div>\n            <div>Left Click - Destroy Block</div>\n            <div>Right Click - Place Block</div>\n            <div>1-5 - Select Block Type</div>\n            <div>Space - Jump</div>\n            <div>Shift - Descend</div>\n        </div>\n        \n        <!-- Block Selection -->\n        <div class=\"absolute bottom-4 right-4 bg-black bg-opacity-50 p-4 rounded-lg\">\n            <div class=\"text-sm font-bold mb-2\">Block Types:</div>\n            <div class=\"flex space-x-2\">\n                <button class=\"block-button active w-12 h-12 bg-green-600 border-2 border-white rounded\" data-block=\"0\" title=\"Grass\"></button>\n                <button class=\"block-button w-12 h-12 bg-yellow-800 border-2 border-white rounded\" data-block=\"1\" title=\"Dirt\"></button>\n                <button class=\"block-button w-12 h-12 bg-gray-500 border-2 border-white rounded\" data-block=\"2\" title=\"Stone\"></button>\n                <button class=\"block-button w-12 h-12 bg-yellow-700 border-2 border-white rounded\" data-block=\"3\" title=\"Wood\"></button>\n                <button class=\"block-button w-12 h-12 bg-blue-500 border-2 border-white rounded\" data-block=\"4\" title=\"Water\"></button>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // Game variables\n        let scene, camera, renderer;\n        let world = {};\n        let selectedBlockType = 0;\n        let player, moveForward = false, moveBackward = false, moveLeft = false, moveRight = false;\n        let canJump = false;\n        let velocity = new THREE.Vector3();\n        let direction = new THREE.Vector3();\n        let raycaster = new THREE.Raycaster();\n        let clock = new THREE.Clock();\n        let time = 0;\n        \n        // Block materials\n        const blockMaterials = [\n            new THREE.MeshLambertMaterial({ color: 0x7CFC00 }), // Grass\n            new THREE.MeshLambertMaterial({ color: 0x8B4513 }), // Dirt\n            new THREE.MeshLambertMaterial({ color: 0x808080 }), // Stone\n            new THREE.MeshLambertMaterial({ color: 0xA0522D }), // Wood\n            new THREE.MeshLambertMaterial({ color: 0x1E90FF, transparent: true, opacity: 0.7 }) // Water\n        ];\n        \n        const blockNames = [\"Grass\", \"Dirt\", \"Stone\", \"Wood\", \"Water\"];\n        \n        // Initialize the game\n        function init() {\n            // Create scene\n            scene = new THREE.Scene();\n            scene.background = new THREE.Color(0x87CEEB); // Sky blue\n            scene.fog = new THREE.Fog(0x87CEEB, 100, 500);\n            \n            // Create camera\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n            camera.position.set(0, 20, 0);\n            \n            // Create renderer\n            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('gameCanvas'), antialias: true });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.shadowMap.enabled = true;\n            \n            // Add lighting\n            const ambientLight = new THREE.AmbientLight(0x404040, 1.0);\n            scene.add(ambientLight);\n            \n            const sunLight = new THREE.DirectionalLight(0xFFFFFF, 1.0);\n            sunLight.position.set(100, 100, 50);\n            sunLight.castShadow = true;\n            sunLight.shadow.camera.left = -100;\n            sunLight.shadow.camera.right = 100;\n            sunLight.shadow.camera.top = 100;\n            sunLight.shadow.camera.bottom = -100;\n            scene.add(sunLight);\n            \n            // Create player\n            createPlayer();\n            \n            // Generate world\n            generateWorld();\n            \n            // Add event listeners\n            setupEventListeners();\n            \n            // Start animation loop\n            animate();\n        }\n        \n        function createPlayer() {\n            const playerGeometry = new THREE.BoxGeometry(0.6, 1.8, 0.6);\n            const playerMaterial = new THREE.MeshBasicMaterial({ color: 0xFF5733, visible: false });\n            player = new THREE.Mesh(playerGeometry, playerMaterial);\n            player.position.set(0, 10, 0);\n            scene.add(player);\n            \n            camera.position.copy(player.position);\n            camera.position.y += 0.8;\n        }\n        \n        function generateWorld() {\n            const worldSize = 50;\n            const maxHeight = 10;\n            \n            for (let x = -worldSize; x < worldSize; x++) {\n                for (let z = -worldSize; z < worldSize; z++) {\n                    // Simple height function using sine waves\n                    const height = Math.floor(\n                        Math.sin(x * 0.1) * Math.cos(z * 0.1) * maxHeight + \n                        Math.random() * 3 + \n                        maxHeight\n                    );\n                    \n                    for (let y = 0; y < height; y++) {\n                        let blockType;\n                        if (y === height - 1) {\n                            blockType = 0; // Grass on top\n                        } else if (y > height - 4) {\n                            blockType = 1; // Dirt under grass\n                        } else {\n                            blockType = 2; // Stone deeper down\n                        }\n                        \n                        addBlock(x, y, z, blockType);\n                    }\n                    \n                    // Occasionally add trees\n                    if (Math.random() < 0.02) {\n                        createTree(x, height, z);\n                    }\n                }\n            }\n        }\n        \n        function createTree(x, y, z) {\n            // Trunk\n            const trunkHeight = 3 + Math.floor(Math.random() * 3);\n            for (let i = 0; i < trunkHeight; i++) {\n                addBlock(x, y + i, z, 3); // Wood\n            }\n            \n            // Leaves\n            const leafSize = 2;\n            for (let dx = -leafSize; dx <= leafSize; dx++) {\n                for (let dy = 0; dy <= leafSize; dy++) {\n                    for (let dz = -leafSize; dz <= leafSize; dz++) {\n                        if (Math.abs(dx) + Math.abs(dy) + Math.abs(dz) <= leafSize + 1) {\n                            addBlock(x + dx, y + trunkHeight + dy, z + dz, 0); // Leaves (using grass)\n                        }\n                    }\n                }\n            }\n        }\n        \n        function addBlock(x, y, z, type) {\n            const key = `${x},${y},${z}`;\n            if (world[key]) return; // Block already exists\n            \n            const geometry = new THREE.BoxGeometry(1, 1, 1);\n            const cube = new THREE.Mesh(geometry, blockMaterials[type]);\n            cube.position.set(x, y, z);\n            cube.castShadow = true;\n            cube.receiveShadow = true;\n            cube.userData = { x, y, z, type };\n            \n            scene.add(cube);\n            world[key] = cube;\n        }\n        \n        function removeBlock(x, y, z) {\n            const key = `${x},${y},${z}`;\n            if (!world[key]) return; // Block doesn't exist\n            \n            scene.remove(world[key]);\n            delete world[key];\n        }\n        \n        function setupEventListeners() {\n            // Keyboard controls\n            document.addEventListener('keydown', (event) => {\n                switch (event.code) {\n                    case 'KeyW': moveForward = true; break;\n                    case 'KeyS': moveBackward = true; break;\n                    case 'KeyA': moveLeft = true; break;\n                    case 'KeyD': moveRight = true; break;\n                    case 'Space': \n                        if (canJump) velocity.y = 10; \n                        canJump = false; \n                        break;\n                    case 'ShiftLeft': velocity.y = -5; break;\n                    case 'Digit1': selectBlock(0); break;\n                    case 'Digit2': selectBlock(1); break;\n                    case 'Digit3': selectBlock(2); break;\n                    case 'Digit4': selectBlock(3); break;\n                    case 'Digit5': selectBlock(4); break;\n                }\n            });\n            \n            document.addEventListener('keyup', (event) => {\n                switch (event.code) {\n                    case 'KeyW': moveForward = false; break;\n                    case 'KeyS': moveBackward = false; break;\n                    case 'KeyA': moveLeft = false; break;\n                    case 'KeyD': moveRight = false; break;\n                }\n            });\n            \n            // Mouse controls\n            document.addEventListener('mousemove', (event) => {\n                if (document.pointerLockElement === renderer.domElement) {\n                    const movementX = event.movementX || 0;\n                    const movementY = event.movementY || 0;\n                    \n                    player.rotation.y -= movementX * 0.002;\n                    camera.rotation.x -= movementY * 0.002;\n                    camera.rotation.x = Math.max(-Math.PI/2, Math.min(Math.PI/2, camera.rotation.x));\n                }\n            });\n            \n            document.addEventListener('click', () => {\n                renderer.domElement.requestPointerLock();\n            });\n            \n            // Block interaction\n            document.addEventListener('mousedown', (event) => {\n                if (document.pointerLockElement === renderer.domElement) {\n                    raycaster.setFromCamera(new THREE.Vector2(), camera);\n                    const intersects = raycaster.intersectObjects(Object.values(world));\n                    \n                    if (intersects.length > 0) {\n                        const intersect = intersects[0];\n                        const block = intersect.object;\n                        const pos = block.userData;\n                        \n                        if (event.button === 0) { // Left click - destroy\n                            removeBlock(pos.x, pos.y, pos.z);\n                        } else if (event.button === 2) { // Right click - place\n                            const normal = intersect.face.normal;\n                            addBlock(\n                                pos.x + normal.x,\n                                pos.y + normal.y,\n                                pos.z + normal.z,\n                                selectedBlockType\n                            );\n                        }\n                    }\n                }\n            });\n            \n            // Block selection buttons\n            document.querySelectorAll('.block-button').forEach(button => {\n                button.addEventListener('click', () => {\n                    selectBlock(parseInt(button.dataset.block));\n                });\n            });\n            \n            // Prevent context menu\n            document.addEventListener('contextmenu', (event) => {\n                event.preventDefault();\n            });\n            \n            // Window resize\n            window.addEventListener('resize', () => {\n                camera.aspect = window.innerWidth / window.innerHeight;\n                camera.updateProjectionMatrix();\n                renderer.setSize(window.innerWidth, window.innerHeight);\n            });\n        }\n        \n        function selectBlock(type) {\n            selectedBlockType = type;\n            document.getElementById('selectedBlock').textContent = blockNames[type];\n            \n            // Update button UI\n            document.querySelectorAll('.block-button').forEach(button => {\n                button.classList.remove('active');\n                if (parseInt(button.dataset.block) === type) {\n                    button.classList.add('active');\n                }\n            });\n        }\n        \n        function updatePlayer(delta) {\n            velocity.x -= velocity.x * 10.0 * delta;\n            velocity.z -= velocity.z * 10.0 * delta;\n            velocity.y -= 20.0 * delta; // Gravity\n            \n            direction.z = Number(moveForward) - Number(moveBackward);\n            direction.x = Number(moveRight) - Number(moveLeft);\n            direction.normalize();\n            \n            if (moveForward || moveBackward) velocity.z -= direction.z * 50.0 * delta;\n            if (moveLeft || moveRight) velocity.x -= direction.x * 50.0 * delta;\n            \n            // Apply rotation to movement\n            const moveVector = new THREE.Vector3();\n            moveVector.x = -velocity.x * delta;\n            moveVector.z = -velocity.z * delta;\n            moveVector.applyQuaternion(player.quaternion);\n            \n            // Move player\n            player.position.x += moveVector.x;\n            player.position.z += moveVector.z;\n            \n            // Vertical movement\n            const playerBottom = player.position.y - 0.9;\n            const playerTop = player.position.y + 0.9;\n            \n            // Simple collision detection\n            let onGround = false;\n            for (let x = -0.3; x <= 0.3; x += 0.3) {\n                for (let z = -0.3; z <= 0.3; z += 0.3) {\n                    const checkX = Math.floor(player.position.x + x);\n                    const checkY = Math.floor(playerBottom);\n                    const checkZ = Math.floor(player.position.z + z);\n                    \n                    if (world[`${checkX},${checkY},${checkZ}`]) {\n                        if (velocity.y < 0) {\n                            player.position.y = checkY + 1 + 0.9;\n                            velocity.y = 0;\n                            onGround = true;\n                        }\n                    }\n                }\n            }\n            \n            if (onGround) canJump = true;\n            \n            // Update camera position\n            camera.position.copy(player.position);\n            camera.position.y += 0.8;\n            \n            // Update HUD\n            document.getElementById('playerPosition').textContent = \n                `${Math.floor(player.position.x)}, ${Math.floor(player.position.y)}, ${Math.floor(player.position.z)}`;\n        }\n        \n        function updateDayNightCycle() {\n            // 20 seconds = full day cycle\n            const dayDuration = 20; // seconds\n            time += clock.getDelta();\n            const dayTime = (time % dayDuration) / dayDuration;\n            \n            // Calculate sun position\n            const sunAngle = dayTime * Math.PI * 2;\n            const sunHeight = Math.sin(sunAngle);\n            const sunX = Math.cos(sunAngle) * 100;\n            const sunY = sunHeight * 100;\n            \n            // Update sun position\n            const sunLight = scene.children.find(child => child instanceof THREE.DirectionalLight);\n            if (sunLight) {\n                sunLight.position.set(sunX, sunY, 50);\n                sunLight.intensity = Math.max(0.1, sunHeight);\n            }\n            \n            // Update sky color and fog\n            const isDay = sunHeight > 0;\n            const dayColor = new THREE.Color(0x87CEEB); // Sky blue\n            const nightColor = new THREE.Color(0x0A1929); // Dark blue\n            const sunsetColor = new THREE.Color(0xFF7E5F); // Orange\n            \n            let skyColor;\n            if (sunHeight > 0.3) {\n                skyColor = dayColor;\n            } else if (sunHeight > 0) {\n                // Sunset/sunrise\n                const t = sunHeight / 0.3;\n                skyColor = dayColor.clone().lerp(sunsetColor, 1 - t);\n            } else {\n                skyColor = nightColor;\n            }\n            \n            scene.background = skyColor;\n            scene.fog.color = skyColor;\n            \n            // Update ambient light\n            const ambientLight = scene.children.find(child => child instanceof THREE.AmbientLight);\n            if (ambientLight) {\n                ambientLight.intensity = Math.max(0.2, sunHeight);\n            }\n            \n            // Update UI\n            const timeIndicator = document.getElementById('sunMoonIndicator');\n            const timeText = document.getElementById('timeText');\n            const timeOfDay = document.getElementById('timeOfDay');\n            \n            if (isDay) {\n                timeIndicator.style.backgroundColor = '#FFD700'; // Yellow for sun\n                timeOfDay.textContent = 'Day';\n            } else {\n                timeIndicator.style.backgroundColor = '#DDDDDD'; // Gray for moon\n                timeOfDay.textContent = 'Night';\n            }\n            \n            const hours = Math.floor(dayTime * 24);\n            const minutes = Math.floor((dayTime * 24 - hours) * 60);\n            timeText.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;\n        }\n        \n        function animate() {\n            requestAnimationFrame(animate);\n            \n            const delta = clock.getDelta();\n            \n            updatePlayer(delta);\n            updateDayNightCycle();\n            \n            renderer.render(scene, camera);\n        }\n        \n        // Start the game\n        init();\n    </script>\n</body>\n</html>"
}