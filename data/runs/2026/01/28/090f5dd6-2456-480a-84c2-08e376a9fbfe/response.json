{
  "text": " ```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Velocit - Professional Video Editor</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\" rel=\"stylesheet\">\n    <style>\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n        \n        body {\n            font-family: 'Inter', sans-serif;\n            background-color: #18181b; /* Zinc 900 */\n            color: #e4e4e7; /* Zinc 200 */\n            overflow: hidden; /* App-like feel */\n        }\n\n        /* Custom Scrollbar */\n        ::-webkit-scrollbar {\n            width: 8px;\n            height: 8px;\n        }\n        ::-webkit-scrollbar-track {\n            background: #27272a; \n        }\n        ::-webkit-scrollbar-thumb {\n            background: #3f3f46; \n            border-radius: 4px;\n        }\n        ::-webkit-scrollbar-thumb:hover {\n            background: #52525b; \n        }\n\n        /* Timeline Grid Pattern */\n        .timeline-grid {\n            background-image: linear-gradient(to right, #27272a 1px, transparent 1px);\n            background-size: 50px 100%;\n        }\n\n        .clip-block {\n            transition: transform 0.1s, box-shadow 0.1s;\n            cursor: grab;\n        }\n        .clip-block:active {\n            cursor: grabbing;\n        }\n        .clip-block.selected {\n            outline: 2px solid #3b82f6;\n            z-index: 10;\n        }\n\n        .range-handle {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            width: 6px;\n            background-color: #facc15;\n            cursor: col-resize;\n            opacity: 0;\n            transition: opacity 0.2s;\n        }\n        .clip-block:hover .range-handle {\n            opacity: 1;\n        }\n        .range-handle.left { left: 0; }\n        .range-handle.right { right: 0; }\n\n        /* Playhead Animation */\n        #playhead {\n            pointer-events: none;\n            z-index: 50;\n            transition: left 0.1s linear; /* Smooth scrubbing */\n        }\n        \n        /* Keyframe Curve Editor Canvas */\n        canvas#keyframe-editor {\n            background: #18181b;\n            border-top: 1px solid #3f3f46;\n        }\n    </style>\n</head>\n<body class=\"h-screen flex flex-col text-sm select-none\">\n\n    <!-- Top Navigation / Toolbar -->\n    <header class=\"h-14 bg-zinc-900 border-b border-zinc-800 flex items-center justify-between px-4 shrink-0 z-20\">\n        <div class=\"flex items-center space-x-4\">\n            <div class=\"flex items-center text-blue-500 font-bold text-xl tracking-tight\">\n                <i class=\"fa-solid fa-bolt mr-2\"></i> VELOCIT\n            </div>\n            <nav class=\"hidden md:flex space-x-1 text-zinc-400\">\n                <button class=\"px-3 py-1 hover:text-white hover:bg-zinc-800 rounded\">File</button>\n                <button class=\"px-3 py-1 hover:text-white hover:bg-zinc-800 rounded\">Edit</button>\n                <button class=\"px-3 py-1 hover:text-white hover:bg-zinc-800 rounded\">View</button>\n                <button class=\"px-3 py-1 hover:text-white hover:bg-zinc-800 rounded\">Export</button>\n            </nav>\n        </div>\n\n        <!-- Transport Controls -->\n        <div class=\"flex items-center space-x-4 bg-zinc-800 px-4 py-1 rounded-full border border-zinc-700\">\n            <button class=\"text-zinc-400 hover:text-white\"><i class=\"fa-solid fa-backward-step\"></i></button>\n            <button id=\"play-pause-btn\" class=\"text-white hover:text-blue-400 text-lg w-6\"><i class=\"fa-solid fa-play\"></i></button>\n            <button class=\"text-zinc-400 hover:text-white\"><i class=\"fa-solid fa-forward-step\"></i></button>\n            <div class=\"h-4 w-px bg-zinc-600 mx-2\"></div>\n            <span id=\"time-display\" class=\"font-mono text-xs text-zinc-300\">00:00:00:00</span>\n        </div>\n\n        <div class=\"flex items-center space-x-3\">\n            <button class=\"bg-blue-600 hover:bg-blue-500 text-white px-4 py-1.5 rounded text-xs font-medium transition\" onclick=\"toggleExportModal()\">\n                <i class=\"fa-solid fa-share-from-square mr-1\"></i> Export\n            </button>\n            <div class=\"w-8 h-8 rounded-full bg-gradient-to-tr from-purple-500 to-blue-500 border border-zinc-600\"></div>\n        </div>\n    </header>\n\n    <!-- Main Workspace -->\n    <div class=\"flex-1 flex overflow-hidden\">\n        \n        <!-- LEFT SIDEBAR: Media & Effects -->\n        <aside class=\"w-72 bg-zinc-900 border-r border-zinc-800 flex flex-col shrink-0 z-10\">\n            <!-- Tabs -->\n            <div class=\"flex border-b border-zinc-800\">\n                <button class=\"flex-1 py-3 text-xs font-medium text-blue-400 border-b-2 border-blue-500 bg-zinc-800/50\">Media</button>\n                <button class=\"flex-1 py-3 text-xs font-medium text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800/30 transition\">Effects</button>\n                <button class=\"flex-1 py-3 text-xs font-medium text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800/30 transition\">Audio</button>\n            </div>\n\n            <!-- Media Library Content -->\n            <div class=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                \n                <!-- Import Area -->\n                <div class=\"border-2 border-dashed border-zinc-700 rounded-lg p-4 text-center hover:border-blue-500 hover:bg-zinc-800/50 transition cursor-pointer group\" onclick=\"document.getElementById('file-upload').click()\">\n                    <input type=\"file\" id=\"file-upload\" class=\"hidden\" accept=\"video/*,audio/*,image/*\" multiple>\n                    <i class=\"fa-solid fa-cloud-arrow-up text-2xl text-zinc-500 group-hover:text-blue-400 mb-2 transition\"></i>\n                    <p class=\"text-xs text-zinc-400\">Import Media</p>\n                </div>\n\n                <!-- Project Files List -->\n                <div>\n                    <h3 class=\"text-xs font-bold text-zinc-500 uppercase tracking-wider mb-3\">Project Files</h3>\n                    <div id=\"media-list\" class=\"space-y-2\">\n                        <!-- Generated via JS -->\n                    </div>\n                </div>\n\n                <!-- Transitions -->\n                <div>\n                    <h3 class=\"text-xs font-bold text-zinc-500 uppercase tracking-wider mb-3 mt-6\">Transitions</h3>\n                    <div class=\"grid grid-cols-2 gap-2\">\n                        <div class=\"bg-zinc-800 p-2 rounded text-center cursor-pointer hover:bg-zinc-700 border border-transparent hover:border-blue-500 transition\">\n                            <div class=\"h-8 bg-gradient-to-r from-black via-zinc-500 to-transparent mb-1 rounded-sm\"></div>\n                            <span class=\"text-[10px]\">Fade</span>\n                        </div>\n                        <div class=\"bg-zinc-800 p-2 rounded text-center cursor-pointer hover:bg-zinc-700 border border-transparent hover:border-blue-500 transition\">\n                            <div class=\"h-8 flex items-center justify-center bg-zinc-700 mb-1 rounded-sm\"><i class=\"fa-solid fa-arrows-left-right text-zinc-400\"></i></div>\n                            <span class=\"text-[10px]\">Wipe</span>\n                        </div>\n                        <div class=\"bg-zinc-800 p-2 rounded text-center cursor-pointer hover:bg-zinc-700 border border-transparent hover:border-blue-500 transition\">\n                            <div class=\"h-8 flex items-center justify-center bg-zinc-700 mb-1 rounded-sm\"><i class=\"fa-solid fa-rotate text-zinc-400\"></i></div>\n                            <span class=\"text-[10px]\">Spin</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </aside>\n\n        <!-- CENTER: Preview & Timeline -->\n        <main class=\"flex-1 flex flex-col min-w-0 bg-zinc-950 relative\">\n            \n            <!-- Preview Area -->\n            <div class=\"flex-1 flex items-center justify-center bg-black relative overflow-hidden group\">\n                <!-- Video Canvas/Element -->\n                <div id=\"video-container\" class=\"relative w-full h-full max-w-5xl max-h-[70vh] bg-zinc-900 flex items-center justify-center shadow-2xl overflow-hidden m-4 rounded border border-zinc-800\">\n                    <!-- Placeholder content when no video is playing -->\n                    <div id=\"placeholder-content\" class=\"text-center\">\n                        <i class=\"fa-solid fa-film text-6xl text-zinc-800 mb-4\"></i>\n                        <p class=\"text-zinc-600 font-medium\">No Preview Available</p>\n                    </div>\n                    <!-- Actual Video Element (Hidden until loaded) -->\n                    <video id=\"main-video\" class=\"hidden w-full h-full object-contain\" loop></video>\n                    \n                    <!-- Overlays (Safe zones, etc) -->\n                    <div class=\"absolute inset-0 pointer-events-none border-[1px] border-white/10 m-12 opacity-0 group-hover:opacity-100 transition-opacity\"></div>\n                </div>\n\n                <!-- Preview Controls Overlay -->\n                <div class=\"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-black/80 backdrop-blur px-4 py-2 rounded-lg flex items-center space-x-4 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button class=\"text-white/70 hover:text-white\" title=\"Fit\"><i class=\"fa-solid fa-compress\"></i></button>\n                    <select class=\"bg-transparent text-white/70 text-xs outline-none border-none\">\n                        <option>100%</option>\n                        <option>Fit</option>\n                        <option>Fill</option>\n                    </select>\n                    <div class=\"w-px h-4 bg-white/20\"></div>\n                    <span class=\"text-xs text-white/50\">Resolution: 1920x1080</span>\n                </div>\n            </div>\n\n            <!-- Splitter (Visual only for this demo) -->\n            <div class=\"h-1 bg-zinc-800 hover:bg-blue-500 cursor-ns-resize transition-colors shrink-0\"></div>\n\n            <!-- Timeline Area -->\n            <div class=\"h-80 bg-zinc-900 flex flex-col shrink-0 border-t border-zinc-800\">\n                \n                <!-- Timeline Toolbar -->\n                <div class=\"h-8 bg-zinc-800 border-b border-zinc-700 flex items-center px-2 space-x-2 shrink-0\">\n                    <button class=\"text-zinc-400 hover:text-white p-1\" title=\"Add Track\"><i class=\"fa-solid fa-plus\"></i></button>\n                    <div class=\"w-px h-4 bg-zinc-600 mx-1\"></div>\n                    <button class=\"text-zinc-400 hover:text-white p-1\" title=\"Snap\"><i class=\"fa-solid fa-magnet\"></i></button>\n                    <button class=\"text-zinc-400 hover:text-white p-1\" title=\"Marker\"><i class=\"fa-solid fa-location-dot\"></i></button>\n                    <div class=\"flex-1\"></div>\n                    <div class=\"flex items-center space-x-1 bg-zinc-900 rounded px-2 py-0.5 border border-zinc-700\">\n                        <i class=\"fa-solid fa-magnifying-glass-minus text-[10px] text-zinc-500\"></i>\n                        <input type=\"range\" min=\"20\" max=\"200\" value=\"50\" class=\"w-24 h-1 bg-zinc-700 rounded-lg appearance-none cursor-pointer\">\n                        <i class=\"fa-solid fa-magnifying-glass-plus text-[10px] text-zinc-500\"></i>\n                    </div>\n                </div>\n\n                <!-- Tracks Container -->\n                <div class=\"flex-1 flex overflow-hidden relative\">\n                    \n                    <!-- Track Headers (Left) -->\n                    <div class=\"w-48 bg-zinc-900 border-r border-zinc-800 flex flex-col shrink-0 z-10 shadow-lg\" id=\"track-headers\">\n                        <!-- Generated via JS -->\n                    </div>\n\n                    <!-- Timeline Tracks (Right) -->\n                    <div class=\"flex-1 overflow-x-auto overflow-y-hidden relative timeline-grid bg-zinc-950\" id=\"timeline-scroll-area\">\n                        \n                        <!-- Time Ruler -->\n                        <div class=\"h-6 bg-zinc-900 border-b border-zinc-800 sticky top-0 z-20 flex text-[10px] text-zinc-500 select-none\" id=\"time-ruler\">\n                            <!-- JS will populate ticks -->\n                        </div>\n\n                        <!-- Tracks Wrapper -->\n                        <div class=\"relative h-full pt-6\" id=\"tracks-container\">\n                            \n                            <!-- Playhead -->\n                            <div id=\"playhead\" class=\"absolute top-0 bottom-0 w-px bg-red-500 left-0 transition-none\">\n                                <div class=\"w-3 h-3 bg-red-500 transform -translate-x-1/2 rotate-45 -mt-1.5 absolute top-0\"></div>\n                            </div>\n\n                            <!-- Generated Tracks go here -->\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </main>\n\n        <!-- RIGHT SIDEBAR: Inspector & Keyframes -->\n        <aside class=\"w-72 bg-zinc-900 border-l border-zinc-800 flex flex-col shrink-0 z-10\">\n            <!-- Inspector Header -->\n            <div class=\"h-10 border-b border-zinc-800 flex items-center px-4 bg-zinc-800/50\">\n                <span class=\"text-xs font-bold text-zinc-300\">Inspector</span>\n            </div>\n\n            <!-- Inspector Content -->\n            <div class=\"flex-1 overflow-y-auto\">\n                <div id=\"inspector-empty\" class=\"p-8 text-center text-zinc-500 text-xs\">\n                    Select a clip to edit properties.\n                </div>\n\n                <div id=\"inspector-content\" class=\"hidden\">\n                    <!-- Transform Section -->\n                    <div class=\"border-b border-zinc-800\">\n                        <button class=\"w-full px-4 py-3 flex justify-between items-center hover:bg-zinc-800/50 transition\" onclick=\"toggleSection(this)\">\n                            <span class=\"text-xs font-bold text-zinc-300\"><i class=\"fa-solid fa-up-right-and-down-left-from-center w-5\"></i> Transform</span>\n                            <i class=\"fa-solid fa-chevron-down text-[10px] text-zinc-500 transition-transform\"></i>\n                        </button>\n                        <div class=\"px-4 pb-4 space-y-3\">\n                            <div class=\"grid grid-cols-2 gap-2\">\n                                <div>\n                                    <label class=\"text-[10px] text-zinc-500 block mb-1\">Position X</label>\n                                    <input type=\"number\" value=\"0\" class=\"w-full bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-xs text-zinc-300 focus:border-blue-500 outline-none\">\n                                </div>\n                                <div>\n                                    <label class=\"text-[10px] text-zinc-500 block mb-1\">Position Y</label>\n                                    <input type=\"number\" value=\"0\" class=\"w-full bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-xs text-zinc-300 focus:border-blue-500 outline-none\">\n                                </div>\n                                <div>\n                                    <label class=\"text-[10px] text-zinc-500 block mb-1\">Scale</label>\n                                    <input type=\"number\" value=\"100\" class=\"w-full bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-xs text-zinc-300 focus:border-blue-500 outline-none\">\n                                </div>\n                                <div>\n                                    <label class=\"text-[10px] text-zinc-500 block mb-1\">Rotation</label>\n                                    <input type=\"number\" value=\"0\" class=\"w-full bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-xs text-zinc-300 focus:border-blue-500 outline-none\">\n                                </div>\n                            </div>\n                            <!-- Opacity -->\n                            <div>\n                                <div class=\"flex justify-between mb-1\">\n                                    <label class=\"text-[10px] text-zinc-500\">Opacity</label>\n                                    <span class=\"text-[10px] text-zinc-400\">100%</span>\n                                </div>\n                                <input type=\"range\" min=\"0\" max=\"100\" value=\"100\" class=\"w-full h-1 bg-zinc-700 rounded-lg appearance-none cursor-pointer\">\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Video Section -->\n                    <div class=\"border-b border-zinc-800\">\n                        <button class=\"w-full px-4 py-3 flex justify-between items-center hover:bg-zinc-800/50 transition\" onclick=\"toggleSection(this)\">\n                            <span class=\"text-xs font-bold text-zinc-300\"><i class=\"fa-solid fa-video w-5\"></i> Video</span>\n                            <i class=\"fa-solid fa-chevron-down text-[10px] text-zinc-500 transition-transform\"></i>\n                        </button>\n                        <div class=\"px-4 pb-4 space-y-3 hidden\">\n                             <div>\n                                <label class=\"text-[10px] text-zinc-500 block mb-1\">Speed</label>\n                                <div class=\"flex items-center bg-zinc-800 rounded border border-zinc-700\">\n                                    <button class=\"px-2 text-zinc-400 hover:text-white\"><i class=\"fa-solid fa-minus\"></i></button>\n                                    <input type=\"text\" value=\"1.0x\" class=\"w-full bg-transparent text-center text-xs py-1 outline-none\">\n                                    <button class=\"px-2 text-zinc-400 hover:text-white\"><i class=\"fa-solid fa-plus\"></i></button>\n                                </div>\n                            </div>\n                            <div>\n                                <label class=\"text-[10px] text-zinc-500 block mb-1\">Blend Mode</label>\n                                <select class=\"w-full bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-xs text-zinc-300 outline-none\">\n                                    <option>Normal</option>\n                                    <option>Screen</option>\n                                    <option>Multiply</option>\n                                    <option>Overlay</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n\n                     <!-- Color Correction Section -->\n                     <div class=\"border-b border-zinc-800\">\n                        <button class=\"w-full px-4 py-3 flex justify-between items-center hover:bg-zinc-800/50 transition\" onclick=\"toggleSection(this)\">\n                            <span class=\"text-xs font-bold text-zinc-300\"><i class=\"fa-solid fa-palette w-5\"></i> Color</span>\n                            <i class=\"fa-solid fa-chevron-down text-[10px] text-zinc-500 transition-transform\"></i>\n                        </button>\n                        <div class=\"px-4 pb-4 space-y-4 hidden\">\n                            <div>\n                                <div class=\"flex justify-between mb-1\">\n                                    <label class=\"text-[10px] text-zinc-500\">Exposure</label>\n                                </div>\n                                <input type=\"range\" class=\"w-full h-1 bg-zinc-700 rounded-lg appearance-none cursor-pointer\">\n                            </div>\n                            <div>\n                                <div class=\"flex justify-between mb-1\">\n                                    <label class=\"text-[10px] text-zinc-500\">Contrast</label>\n                                </div>\n                                <input type=\"range\" class=\"w-full h-1 bg-zinc-700 rounded-lg appearance-none cursor-pointer\">\n                            </div>\n                            <div>\n                                <div class=\"flex justify-between mb-1\">\n                                    <label class=\"text-[10px] text-zinc-500\">Saturation</label>\n                                </div>\n                                <input type=\"range\" class=\"w-full h-1 bg-zinc-700 rounded-lg appearance-none cursor-pointer\">\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Keyframes -->\n                    <div class=\"border-b border-zinc-800\">\n                         <button class=\"w-full px-4 py-3 flex justify-between items-center hover:bg-zinc-800/50 transition bg-zinc-800/30\">\n                            <span class=\"text-xs font-bold text-zinc-300\"><i class=\"fa-solid fa-stopwatch w-5\"></i> Keyframes</span>\n                        </button>\n                        <div class=\"h-32 w-full relative bg-zinc-950\">\n                            <canvas id=\"keyframe-editor\" class=\"w-full h-full block\"></canvas>\n                            <div class=\"absolute top-2 left-2 text-[10px] text-zinc-500\">Opacity</div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </aside>\n    </div>\n\n    <!-- Export Modal -->\n    <div id=\"export-modal\" class=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center\">\n        <div class=\"bg-zinc-900 border border-zinc-700 rounded-lg w-96 shadow-2xl transform transition-all scale-95 opacity-0\" id=\"export-modal-content\">\n            <div class=\"flex justify-between items-center p-4 border-b border-zinc-800\">\n                <h3 class=\"text-sm font-bold text-white\">Export Video</h3>\n                <button onclick=\"toggleExportModal()\" class=\"text-zinc-400 hover:text-white\"><i class=\"fa-solid fa-xmark\"></i></button>\n            </div>\n            <div class=\"p-6 space-y-4\">\n                <div>\n                    <label class=\"block text-xs text-zinc-400 mb-1\">File Name</label>\n                    <input type=\"text\" value=\"My_Awesome_Video_v1\" class=\"w-full bg-zinc-800 border border-zinc-700 rounded px-3 py-2 text-sm text-white outline-none focus:border-blue-500\">\n                </div>\n                <div class=\"grid grid-cols-2 gap-4\">\n                    <div>\n                        <label class=\"block text-xs text-zinc-400 mb-1\">Resolution</label>\n                        <select class=\"w-full bg-zinc-800 border border-zinc-700 rounded px-3 py-2 text-sm text-white outline-none\">\n                            <option>1920 x 1080 (FHD)</option>\n                            <option>3840 x 2160 (4K)</option>\n                            <option>1280 x 720 (HD)</option>\n                        </select>\n                    </div>\n                    <div>\n                        <label class=\"block text-xs text-zinc-400 mb-1\">Format</label>\n                        <select class=\"w-full bg-zinc-800 border border-zinc-700 rounded px-3 py-2 text-sm text-white outline-none\">\n                            <option>MP4 (H.264)</option>\n                            <option>MOV (ProRes)</option>\n                            <option>WebM</option>\n                        </select>\n                    </div>\n                </div>\n                \n                <!-- Progress (Hidden initially) -->\n                <div id=\"export-progress-container\" class=\"hidden\">\n                    <div class=\"flex justify-between text-xs text-zinc-300 mb-1\">\n                        <span>Encoding...</span>\n                        <span id=\"export-percent\">0%</span>\n                    </div>\n                    <div class=\"w-full bg-zinc-800 rounded-full h-2\">\n                        <div id=\"export-bar\" class=\"bg-blue-600 h-2 rounded-full transition-all duration-300\" style=\"width: 0%\"></div>\n                    </div>\n                </div>\n\n            </div>\n            <div class=\"p-4 border-t border-zinc-800 bg-zinc-900/50 flex justify-end space-x-2 rounded-b-lg\">\n                <button onclick=\"toggleExportModal()\" class=\"px-4 py-2 text-xs font-medium text-zinc-300 hover:text-white hover:bg-zinc-800 rounded transition\">Cancel</button>\n                <button onclick=\"startExport()\" class=\"px-4 py-2 text-xs font-medium bg-blue-600 hover:bg-blue-500 text-white rounded transition shadow-lg shadow-blue-900/20\">Start Export</button>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // --- Data & State ---\n        const state = {\n            clips: [\n                { id: 'c1', trackId: 'v1', start: 0, duration: 120, name: 'Intro Shot', type: 'video', color: 'bg-blue-600' },\n                { id: 'c2', trackId: 'v1', start: 125, duration: 240, name: 'Main Sequence', type: 'video', color: 'bg-blue-600' },\n                { id: 'c3', trackId: 'a1', start: 0, duration: 400, name: 'Background Music', type: 'audio', color: 'bg-emerald-600' },\n                { id: 'c4', trackId: 'v2', start: 130, duration: 100, name: 'Title Card', type: 'title', color: 'bg-purple-600' }\n            ],\n            media: [\n                { id: 'm1', name: 'Drone_Footage.mp4', type: 'video', duration: '00:04:20' },\n                { id: 'm2', name: 'Interview_Clip.mov', type: 'video', duration: '00:12:15' },\n                { id: 'm3', name: 'Background_Beat.wav', type: 'audio', duration: '00:03:00' },\n                { id: 'm4', name: 'Sound_Effect.mp3', type: 'audio', duration: '00:00:05' },\n                { id: 'm5', name: 'Logo.png', type: 'image', duration: '-' }\n            ],\n            tracks: [\n                { id: 'v2', type: 'video', name: 'Video 2', locked: false, hidden: false },\n                { id: 'v1', type: 'video', name: 'Video 1', locked: false, hidden: false },\n                { id: 'a1', type: 'audio', name: 'Audio 1', locked: false, hidden: false },\n                { id: 'a2', type: 'audio', name: 'Audio 2', locked: false, hidden: false }\n            ],\n            zoom: 1,\n            playhead: 0,\n            isPlaying: false,\n            playInterval: null,\n            selectedClipId: null\n        };\n\n        // --- Initialization ---\n        document.addEventListener('DOMContentLoaded', () => {\n            renderMediaLibrary();\n            renderTracks();\n            renderRuler();\n            initKeyframeCanvas();\n            setupDragAndDrop();\n        });\n\n        // --- Rendering Functions ---\n\n        function renderMediaLibrary() {\n            const list = document.getElementById('media-list');\n            list.innerHTML = state.media.map(m => `\n                <div class=\"flex items-center p-2 bg-zinc-800/50 rounded border border-zinc-800 hover:bg-zinc-800 cursor-pointer group transition\" draggable=\"true\" ondragstart=\"dragMedia(event, '${m.id}')\">\n                    <div class=\"w-8 h-8 rounded bg-zinc-700 flex items-center justify-center mr-3 text-zinc-400 group-hover:text-white\">\n                        <i class=\"fa-solid ${m.type === 'video' ? 'fa-film' : m.type === 'audio' ? 'fa-music' : 'fa-image'}\"></i>\n                    </div>\n                    <div class=\"flex-1 min-w-0\">\n                        <div class=\"text-xs font-medium text-zinc-300 truncate\">${m.name}</div>\n                        <div class=\"text-[10px] text-zinc-500\">${m.type.toUpperCase()} â€¢ ${m.duration}</div>\n                    </div>\n                </div>\n            `).join('');\n        }\n\n        function renderTracks() {\n            const headers = document.getElementById('track-headers');\n            const container = document.getElementById('tracks-container');\n            \n            headers.innerHTML = '';\n            // Keep playhead\n            const playhead = document.getElementById('playhead');\n            container.innerHTML = '';\n            container.appendChild(playhead);\n\n            state.tracks.forEach(track => {\n                // Header\n                const headerHtml = `\n                    <div class=\"h-16 border-b border-zinc-800 flex items-center px-3 bg-zinc-900\">\n                        <div class=\"w-6 text-zinc-500 cursor-pointer hover:text-white\"><i class=\"fa-regular ${track.hidden ? 'fa-eye-slash' : 'fa-eye'}\"></i></div>\n                        <div class=\"w-6 text-zinc-500 cursor-pointer hover:text-white ml-2\"><i class=\"fa-solid ${track.locked ? 'fa-lock' : 'fa-lock-open'}\"></i></div>\n                        <span class=\"ml-3 text-xs font-bold text-zinc-400 w-20 truncate\">${track.name}</span>\n                        <div class=\"ml-auto w-2 h-full ${track.type === 'video' ? 'bg-blue-900' : 'bg-emerald-900'}\"></div>\n                    </div>\n                `;\n                headers.insertAdjacentHTML('beforeend', headerHtml);\n\n                // Timeline Track\n                const trackEl = document.createElement('div');\n                trackEl.className = 'h-16 border-b border-zinc-800 relative w-[2000px]'; // Fixed width for scroll\n                trackEl.dataset.trackId = track.id;\n                trackEl.ondrop = (e) => dropOnTrack(e, track.id);\n                trackEl.ondragover = allowDrop;\n\n                // Render Clips on this track\n                state.clips.filter(c => c.trackId === track.id).forEach(clip => {\n                    const left = clip.start * 2; // 1 unit = 2px\n                    const width = clip.duration * 2;\n                    \n                    const clipEl = document.createElement('div');\n                    clipEl.className = `clip-block absolute top-1 bottom-1 rounded overflow-hidden border border-white/10 shadow-sm select-none ${clip.color} ${clip.id === state.selectedClipId ? 'selected ring-2 ring-blue-500' : ''}`;\n                    clipEl.style.left = `${left}px`;\n                    clipEl.style.width = `${width}px`;\n                    clipEl.innerHTML = `\n                        <div class=\"px-2 py-1 text-[10px] font-bold text-white truncate drop-shadow-md\">${clip.name}</div>\n                        ${clip.type === 'audio' ? `<div class=\"absolute bottom-0 left-0 right-0 h-4 opacity-50\" style=\"background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjxwYXRoIGQ9Ik0wLDUgUTEwLDAgMjAsNSBUNDAsNSBUNjAsNSBUNDAsNSBUNjAsNSBUNDAsNSBUNzAsNSBUNDAsNSBUNjAsNSBUNDAsNSBUNzAsNSBUMCw1IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuNSIvPjwvc3ZnPg=='); background-size: 50px 100%;\"></div>` : ''}\n                        <div class=\"range-handle left\" onmousedown=\"startResize(event, '${clip.id}', 'left')\"></div>\n                        <div class=\"range-handle right\" onmousedown=\"startResize(event, '${clip.id}', 'right')\"></div>\n                    `;\n                    clipEl.onclick = (e) => {\n                        e.stopPropagation();\n                        selectClip(clip.id);\n                    };\n                    // Dragging\n                    clipEl.draggable = true;\n                    clipEl.ondragstart = (e) => {\n                        e.dataTransfer.setData('clipId', clip.id);\n                        e.dataTransfer.setData('offsetX', e.offsetX);\n                    };\n\n                    trackEl.appendChild(clipEl);\n                });\n\n                container.appendChild(trackEl);\n            });\n        }\n\n        function renderRuler() {\n            const ruler = document.getElementById('time-ruler');\n            ruler.innerHTML = '';\n            const totalDuration = 500; // seconds\n            const pxPerSecond = 2;\n            \n            for(let i=0; i<=totalDuration; i+=10) {\n                const tick = document.createElement('div');\n                tick.className = 'absolute bottom-0 border-l border-zinc-700 h-2 text-[9px] pl-1';\n                tick.style.left = `${i * pxPerSecond}px`;\n                if (i % 30 === 0) {\n                    tick.className = 'absolute bottom-0 border-l border-zinc-500 h-3 text-[9px] pl-1 font-mono';\n                    const min = Math.floor(i/60).toString().padStart(2, '0');\n                    const sec = (i%60).toString().padStart(2, '0');\n                    tick.innerText = `${min}:${sec}`;\n                }\n                ruler.appendChild(tick);\n            }\n        }\n\n        // --- Interaction Logic ---\n\n        function selectClip(id) {\n            state.selectedClipId = id;\n            renderTracks();\n            document.getElementById('inspector-empty').classList.add('hidden');\n            document.getElementById('inspector-content').classList.remove('hidden');\n            drawKeyframes(); // Refresh canvas\n        }\n\n        function dragMedia(ev, mediaId) {\n            ev.dataTransfer.setData(\"mediaId\", mediaId);\n        }\n\n        function allowDrop(ev) {\n            ev.preventDefault();\n        }\n\n        function dropOnTrack(ev, trackId) {\n            ev.preventDefault();\n            const mediaId = ev.dataTransfer.getData(\"mediaId\");\n            const clipId = ev.dataTransfer.getData(\"clipId\");\n            \n            if (mediaId) {\n                const media = state.media.find(m => m.id === mediaId);\n                const rect = ev.target.closest('[data-track-id]').getBoundingClientRect();\n                const x = ev.clientX - rect.left;\n                const startTime = Math.floor(x / 2); // 2px per frame/unit\n\n                const newClip = {\n                    id: 'c' + Date.now(),\n                    trackId: trackId,\n                    start: Math.max(0, startTime),\n                    duration: 100, // Default duration\n                    name: media.name.split('.')[0],\n                    type: media.type,\n                    color: media.type === 'audio' ? 'bg-emerald-600' : 'bg-blue-600'\n                };\n                state.clips.push(newClip);\n                selectClip(newClip.id);\n            } else if (clipId) {\n                // Move clip\n                const clip = state.clips.find(c => c.id === clipId);\n                const rect = ev.target.closest('[data-track-id]').getBoundingClientRect();\n                const offsetX = parseInt(ev.dataTransfer.getData('offsetX'));\n                const x = ev.clientX - rect.left - offsetX;\n                \n                clip.trackId = trackId;\n                clip.start = Math.max(0, Math.floor(x / 2));\n                selectClip(clip.id);\n            }\n            renderTracks();\n        }\n\n        let resizingClip = null;\n        let resizeDirection = null;\n        let startX = 0;\n        let startDuration = 0;\n        let startStart = 0;\n\n        function startResize(e, clipId, dir) {\n            e.preventDefault();\n            e.stopPropagation();\n            resizingClip = state.clips.find(c => c.id === clipId);\n            resizeDirection = dir;\n            startX = e.clientX;\n            startDuration = resizingClip.duration;\n            startStart = resizingClip.start;\n            \n            document.addEventListener('mousemove', doResize);\n            document.addEventListener('mouseup', stopResize);\n        }\n\n        function doResize(e) {\n            if (!resizingClip) return;\n            const dx = (e.clientX - startX) / 2; // Convert px to time\n            \n            if (resizeDirection === 'right') {\n                resizingClip.duration = Math.max(10, startDuration + dx);\n            } else if (resizeDirection === 'left') {\n                const newDuration = Math.max(10, startDuration - dx);\n                const diff = startDuration - newDuration;\n                resizingClip.start = startStart + diff;\n                resizingClip.duration = newDuration;\n            }\n            renderTracks();\n            // Keep selection\n            state.selectedClipId = resizingClip.id; \n            document.querySelector(`[onclick=\"selectClip('${resizingClip.id}')\"]`)?.classList.add('selected');\n        }\n\n        function stopResize() {\n            resizingClip = null;\n            document.removeEventListener('mousemove', doResize);\n            document.removeEventListener('mouseup', stopResize);\n        }\n\n        // --- Playback Logic ---\n        const playBtn = document.getElementById('play-pause-btn');\n        const playIcon = playBtn.querySelector('i');\n        const timeDisplay = document.getElementById('time-display');\n        const playhead = document.getElementById('playhead');\n\n        playBtn.addEventListener('click', togglePlay);\n\n        function togglePlay() {\n            state.isPlaying = !state.isPlaying;\n            if (state.isPlaying) {\n                playIcon.className = 'fa-solid fa-pause';\n                state.playInterval = setInterval(() => {\n                    state.playhead += 0.5; // Move 0.5 units per tick\n                    updatePlayhead();\n                }, 50); // 20 ticks per second\n            } else {\n                playIcon.className = 'fa-solid fa-play';\n                clearInterval(state.playInterval);\n            }\n        }\n\n        function updatePlayhead() {\n            const px = state.playhead * 2;\n            playhead.style.left = `${px}px`;\n            \n            // Format time\n            const totalSeconds = Math.floor(state.playhead / 30); // Assuming 30fps\n            const m = Math.floor(totalSeconds / 60).toString().padStart(2, '0');\n            const s = (totalSeconds % 60).toString().padStart(2, '0');\n            const f = Math.floor(state.playhead % 30).toString().padStart(2, '0');\n            timeDisplay.innerText = `00:${m}:${s}:${f}`;\n\n            // Auto scroll\n            const container = document.getElementById('timeline-scroll-area');\n            if (px > container.scrollLeft + container.clientWidth - 50) {\n                container.scrollLeft = px - 50;\n            }\n        }\n\n        // --- Inspector Logic ---\n        function toggleSection(btn) {\n            const content = btn.nextElementSibling;\n            const arrow = btn.querySelector('.fa-chevron-down');\n            if (content.classList.contains('hidden')) {\n                content.classList.remove('hidden');\n                arrow.style.transform = 'rotate(0deg)';\n            } else {\n                content.classList.add('hidden');\n                arrow.style.transform = 'rotate(-90deg)';\n            }\n        }\n\n        // --- Canvas Keyframe Editor ---\n        function initKeyframeCanvas() {\n            const canvas = document.getElementById('keyframe-editor');\n            const resize = () => {\n                canvas.width = canvas.parentElement.clientWidth;\n                canvas.height = canvas.parentElement.clientHeight;\n                drawKeyframes();\n            };\n            window.addEventListener('resize', resize);\n            resize();\n        }\n\n        function drawKeyframes() {\n            const canvas = document.getElementById('keyframe-editor');\n            const ctx = canvas.getContext('2d');\n            const w = canvas.width;\n            const h = canvas.height;\n            \n            ctx.clearRect(0, 0, w, h);\n            \n            // Grid\n            ctx.strokeStyle = '#333';\n            ctx.lineWidth = 1;\n            ctx.beginPath();\n            for(let i=0; i<w; i+=20) { ctx.moveTo(i,0); ctx.lineTo(i,h); }\n            for(let i=0; i<h; i+=20) { ctx.moveTo(0,i); ctx.lineTo(w,i); }\n            ctx.stroke();\n\n            // Draw a dummy curve\n            ctx.strokeStyle = '#3b82f6';\n            ctx.lineWidth = 2;\n            ctx.beginPath();\n            ctx.moveTo(0, h);\n            ctx.bezierCurveTo(w/3, h, w/1.5, 0, w, h/2);\n            ctx.stroke();\n\n            // Draw Keyframe points\n            ctx.fillStyle = '#fff';\n            [0, w].forEach(x => {\n                ctx.beginPath();\n                ctx.arc(x === 0 ? 10 : w-10, x === 0 ? h-10 : h/2, 4, 0, Math.PI*2);\n                ctx.fill();\n            });\n        }\n\n        // --- Export Logic ---\n        function toggleExportModal() {\n            const modal = document.getElementById('export-modal');\n            const content = document.getElementById('export-modal-content');\n            \n            if (modal.classList.contains('hidden')) {\n                modal.classList.remove('hidden');\n                // Small timeout for transition\n                setTimeout(() => {\n                    content.classList.remove('scale-95', 'opacity-0');\n                    content.classList.add('scale-100', 'opacity-100');\n                }, 10);\n            } else {\n                content.classList.remove('scale-100', 'opacity-100');\n                content.classList.add('scale-95', 'opacity-0');\n                setTimeout(() => {\n                    modal.classList.add('hidden');\n                }, 200);\n            }\n        }\n\n        function startExport() {\n            const progressContainer = document.getElementById('export-progress-container');\n            const bar = document.getElementById('export-bar');\n            const percent = document.getElementById('export-percent');\n            \n            progressContainer.classList.remove('hidden');\n            \n            let width = 0;\n            const interval = setInterval(() => {\n                if (width >= 100) {\n                    clearInterval(interval);\n                    setTimeout(() => {\n                        alert(\"Export Complete!\");\n                        toggleExportModal();\n                        progressContainer.classList.add('hidden');\n                        bar.style.width = '0%';\n                    }, 500);\n                } else {\n                    width += Math.random() * 2;\n                    if(width > 100) width = 100;\n                    bar.style.width = width + '%';\n                    percent.innerText = Math.floor(width) + '%';\n                }\n            }, 50);\n        }\n\n        // --- File Upload Logic ---\n        document.getElementById('file-upload').addEventListener('change', function(e) {\n            if (this.files && this.files[0]) {\n                const file = this.files[0];\n                const newId = 'm' + (state.media.length + 1);\n                state.media.unshift({\n                    id: newId,\n                    name: file.name,\n                    type: file.type.startsWith('video') ? 'video' : 'audio',\n                    duration: '00:00:10' // Mock duration\n                });\n                renderMediaLibrary();\n                \n                // Simulate adding to timeline immediately\n                const newClip = {\n                    id: 'c' + Date.now(),\n                    trackId: 'v1',\n                    start: 0,\n                    duration: 150,\n                    name: file.name.split('.')[0],\n                    type: file.type.startsWith('video') ? 'video' : 'audio',\n                    color: file.type.startsWith('video') ? 'bg-indigo-600' : 'bg-teal-600'\n                };\n                state.clips.push(newClip);\n                renderTracks();\n                selectClip(newClip.id);\n            }\n        });\n\n        function setupDragAndDrop() {\n            // Prevent default browser drag behaviors\n            window.addEventListener('dragover', e => e.preventDefault());\n            window.addEventListener('drop', e => e.preventDefault());\n        }\n\n    </script>\n</body>\n</html>\n```"
}