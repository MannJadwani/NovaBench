{
  "text": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>macOS Desktop</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <style>\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');\n        \n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Inter', sans-serif;\n            overflow: hidden;\n            user-select: none;\n        }\n        \n        .glass {\n            background: rgba(255, 255, 255, 0.2);\n            backdrop-filter: blur(20px);\n            -webkit-backdrop-filter: blur(20px);\n        }\n        \n        .glass-dark {\n            background: rgba(30, 30, 30, 0.6);\n            backdrop-filter: blur(20px);\n            -webkit-backdrop-filter: blur(20px);\n        }\n        \n        .dock-glass {\n            background: rgba(255, 255, 255, 0.2);\n            backdrop-filter: blur(20px);\n            -webkit-backdrop-filter: blur(20px);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n        }\n        \n        .window {\n            position: absolute;\n            background: white;\n            border-radius: 10px;\n            overflow: hidden;\n            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(0, 0, 0, 0.1);\n            min-width: 300px;\n            min-height: 200px;\n        }\n        \n        .window.active {\n            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(0, 0, 0, 0.1);\n        }\n        \n        .title-bar {\n            background: linear-gradient(to bottom, #f0f0f0, #e0e0e0);\n            border-bottom: 1px solid #c0c0c0;\n        }\n        \n        .window-btn {\n            width: 12px;\n            height: 12px;\n            border-radius: 50%;\n            border: 1px solid rgba(0, 0, 0, 0.1);\n            transition: all 0.2s;\n        }\n        \n        .btn-close { background: #ff5f56; }\n        .btn-close:hover { background: #ff3b30; }\n        \n        .btn-minimize { background: #ffbd2e; }\n        .btn-minimize:hover { background: #ff9500; }\n        \n        .btn-maximize { background: #27c93f; }\n        .btn-maximize:hover { background: #34c759; }\n        \n        .dock-item {\n            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n            position: relative;\n        }\n        \n        .dock-item:hover {\n            transform: scale(1.2) translateY(-10px);\n            margin: 0 10px;\n        }\n        \n        .dock-item::after {\n            content: '';\n            position: absolute;\n            bottom: -4px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 4px;\n            height: 4px;\n            background: rgba(0, 0, 0, 0.5);\n            border-radius: 50%;\n            opacity: 0;\n            transition: opacity 0.2s;\n        }\n        \n        .dock-item.active::after {\n            opacity: 1;\n        }\n        \n        .resize-handle {\n            position: absolute;\n            bottom: 0;\n            right: 0;\n            width: 20px;\n            height: 20px;\n            cursor: se-resize;\n            background: linear-gradient(135deg, transparent 50%, rgba(0,0,0,0.1) 50%);\n            border-bottom-right-radius: 10px;\n        }\n        \n        .menu-dropdown {\n            display: none;\n            position: absolute;\n            top: 100%;\n            left: 0;\n            background: rgba(255, 255, 255, 0.95);\n            backdrop-filter: blur(20px);\n            border-radius: 8px;\n            box-shadow: 0 10px 40px rgba(0,0,0,0.2);\n            min-width: 200px;\n            z-index: 1000;\n            padding: 4px 0;\n        }\n        \n        .menu-item:hover .menu-dropdown {\n            display: block;\n        }\n        \n        .dropdown-item {\n            padding: 4px 16px;\n            font-size: 13px;\n            cursor: pointer;\n            color: #333;\n        }\n        \n        .dropdown-item:hover {\n            background: #0066cc;\n            color: white;\n        }\n        \n        .separator {\n            height: 1px;\n            background: rgba(0,0,0,0.1);\n            margin: 4px 0;\n        }\n        \n        .spotlight-input {\n            background: rgba(255,255,255,0.9);\n            border: 1px solid rgba(0,0,0,0.1);\n            box-shadow: 0 20px 60px rgba(0,0,0,0.3);\n        }\n        \n        .notification-center {\n            transform: translateX(100%);\n            transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n        }\n        \n        .notification-center.open {\n            transform: translateX(0);\n        }\n        \n        .mission-control {\n            opacity: 0;\n            pointer-events: none;\n            transition: opacity 0.3s;\n        }\n        \n        .mission-control.active {\n            opacity: 1;\n            pointer-events: all;\n        }\n        \n        .desktop-thumb {\n            transition: all 0.3s;\n            border: 2px solid transparent;\n        }\n        \n        .desktop-thumb:hover {\n            transform: scale(1.05);\n            border-color: rgba(255,255,255,0.5);\n        }\n        \n        .desktop-thumb.active {\n            border-color: white;\n        }\n        \n        .calc-btn {\n            background: #e0e0e0;\n            border: 1px solid #d0d0d0;\n            transition: all 0.1s;\n        }\n        \n        .calc-btn:active {\n            background: #d0d0d0;\n            transform: scale(0.95);\n        }\n        \n        .calc-btn.orange {\n            background: #ff9f0c;\n            color: white;\n            border-color: #ff9f0c;\n        }\n        \n        .calc-btn.orange:active {\n            background: #e68a00;\n        }\n        \n        .calc-btn.gray {\n            background: #a5a5a5;\n            color: black;\n        }\n        \n        .scrollbar-hide::-webkit-scrollbar {\n            display: none;\n        }\n    </style>\n</head>\n<body class=\"h-screen w-screen overflow-hidden bg-gradient-to-br from-purple-600 via-blue-500 to-teal-400\">\n\n    <!-- Top Menu Bar -->\n    <div id=\"menu-bar\" class=\"glass fixed top-0 left-0 right-0 h-8 flex items-center justify-between px-4 z-50 text-sm text-white shadow-sm\">\n        <div class=\"flex items-center space-x-4 h-full\">\n            <div class=\"menu-item relative h-full flex items-center px-2 cursor-pointer hover:bg-white/20 rounded\">\n                <span class=\"font-bold text-lg leading-none\">Ô£ø</span>\n                <div class=\"menu-dropdown\">\n                    <div class=\"dropdown-item font-medium\">About This Mac</div>\n                    <div class=\"separator\"></div>\n                    <div class=\"dropdown-item\">System Preferences...</div>\n                    <div class=\"dropdown-item\">App Store...</div>\n                    <div class=\"separator\"></div>\n                    <div class=\"dropdown-item\">Recent Items</div>\n                    <div class=\"separator\"></div>\n                    <div class=\"dropdown-item\">Force Quit...</div>\n                    <div class=\"separator\"></div>\n                    <div class=\"dropdown-item\">Sleep</div>\n                    <div class=\"dropdown-item\">Restart...</div>\n                    <div class=\"dropdown-item\">Shut Down...</div>\n                    <div class=\"separator\"></div>\n                    <div class=\"dropdown-item\">Lock Screen</div>\n                    <div class=\"dropdown-item\">Log Out User...</div>\n                </div>\n            </div>\n            <div class=\"menu-item relative h-full flex items-center px-2 cursor-pointer hover:bg-white/20 rounded\">\n                <span id=\"active-app\" class=\"font-semibold\">Finder</span>\n                <div class=\"menu-dropdown\">\n                    <div class=\"dropdown-item font-medium\">About Finder</div>\n                    <div class=\"separator\"></div>\n                    <div class=\"dropdown-item\">Preferences...</div>\n                    <div class=\"separator\"></div>\n                    <div class=\"dropdown-item\">Empty Trash...</div>\n                    <div class=\"separator\"></div>\n                    <div class=\"dropdown-item\">Services</div>\n                    <div class=\"separator\"></div>\n                    <div class=\"dropdown-item\">Hide Finder</div>\n                    <div class=\"dropdown-item\">Quit Finder</div>\n                </div>\n            </div>\n            <div class=\"flex items-center space-x-3 text-xs h-full\">\n                <div class=\"menu-item relative h-full flex items-center px-2 cursor-pointer hover:bg-white/20 rounded\">\n                    <span>File</span>\n                    <div class=\"menu-dropdown\">\n                        <div class=\"dropdown-item\">New Finder Window</div>\n                        <div class=\"dropdown-item\">New Folder</div>\n                        <div class=\"dropdown-item\">New Folder with Selection</div>\n                        <div class=\"dropdown-item\">New Smart Folder</div>\n                        <div class=\"separator\"></div>\n                        <div class=\"dropdown-item\">Open</div>\n                        <div class=\"dropdown-item\">Open With</div>\n                    </div>\n                </div>\n                <div class=\"menu-item relative h-full flex items-center px-2 cursor-pointer hover:bg-white/20 rounded\">\n                    <span>Edit</span>\n                    <div class=\"menu-dropdown\">\n                        <div class=\"dropdown-item\">Undo</div>\n                        <div class=\"dropdown-item\">Redo</div>\n                        <div class=\"separator\"></div>\n                        <div class=\"dropdown-item\">Cut</div>\n                        <div class=\"dropdown-item\">Copy</div>\n                        <div class=\"dropdown-item\">Paste</div>\n                    </div>\n                </div>\n                <div class=\"menu-item relative h-full flex items-center px-2 cursor-pointer hover:bg-white/20 rounded\">\n                    <span>View</span>\n                </div>\n                <div class=\"menu-item relative h-full flex items-center px-2 cursor-pointer hover:bg-white/20 rounded\">\n                    <span>Go</span>\n                </div>\n                <div class=\"menu-item relative h-full flex items-center px-2 cursor-pointer hover:bg-white/20 rounded\">\n                    <span>Window</span>\n                </div>\n                <div class=\"menu-item relative h-full flex items-center px-2 cursor-pointer hover:bg-white/20 rounded\">\n                    <span>Help</span>\n                </div>\n            </div>\n        </div>\n        \n        <div class=\"flex items-center space-x-4 text-xs\">\n            <div class=\"flex items-center space-x-1 cursor-pointer hover:bg-white/20 px-2 py-1 rounded\">\n                <span>100%</span>\n                <span>üîã</span>\n            </div>\n            <span class=\"cursor-pointer hover:bg-white/20 px-2 py-1 rounded\">üì∂</span>\n            <span class=\"cursor-pointer hover:bg-white/20 px-2 py-1 rounded\">üîç</span>\n            <span class=\"cursor-pointer hover:bg-white/20 px-2 py-1 rounded\" onclick=\"toggleNotificationCenter()\">üîî</span>\n            <span id=\"clock\" class=\"cursor-pointer hover:bg-white/20 px-2 py-1 rounded font-medium min-w-[60px] text-center\"></span>\n        </div>\n    </div>\n\n    <!-- Desktop -->\n    <div id=\"desktop\" class=\"absolute top-8 left-0 right-0 bottom-12 p-4\">\n        <div class=\"grid grid-cols-1 gap-1 w-24\">\n            <div class=\"flex flex-col items-center p-2 rounded hover:bg-white/20 cursor-pointer group transition-colors\" onclick=\"openApp('finder')\">\n                <div class=\"w-14 h-14 bg-blue-500 rounded-xl flex items-center justify-center text-3xl shadow-lg mb-1 group-hover:scale-105 transition-transform\">üìÅ</div>\n                <span class=\"text-white text-xs text-shadow drop-shadow-md\">Finder</span>\n            </div>\n            <div class=\"flex flex-col items-center p-2 rounded hover:bg-white/20 cursor-pointer group transition-colors\" onclick=\"openApp('preferences')\">\n                <div class=\"w-14 h-14 bg-gray-300 rounded-xl flex items-center justify-center text-3xl shadow-lg mb-1 group-hover:scale-105 transition-transform\">‚öôÔ∏è</div>\n                <span class=\"text-white text-xs text-shadow drop-shadow-md\">System</span>\n            </div>\n            <div class=\"flex flex-col items-center p-2 rounded hover:bg-white/20 cursor-pointer group transition-colors\" onclick=\"openApp('calculator')\">\n                <div class=\"w-14 h-14 bg-orange-500 rounded-xl flex items-center justify-center text-3xl shadow-lg mb-1 group-hover:scale-105 transition-transform\">üßÆ</div>\n                <span class=\"text-white text-xs text-shadow drop-shadow-md\">Calculator</span>\n            </div>\n            <div class=\"flex flex-col items-center p-2 rounded hover:bg-white/20 cursor-pointer group transition-colors\" onclick=\"openApp('notes')\">\n                <div class=\"w-14 h-14 bg-yellow-300 rounded-xl flex items-center justify-center text-3xl shadow-lg mb-1 group-hover:scale-105 transition-transform\">üìù</div>\n                <span class=\"text-white text-xs text-shadow drop-shadow-md\">Notes</span>\n            </div>\n            <div class=\"flex flex-col items-center p-2 rounded hover:bg-white/20 cursor-pointer group transition-colors\" onclick=\"openApp('calendar')\">\n                <div class=\"w-14 h-14 bg-white rounded-xl flex items-center justify-center text-3xl shadow-lg mb-1 group-hover:scale-105 transition-transform overflow-hidden\">\n                    <div class=\"bg-red-500 w-full h-4 text-[8px] text-white flex items-center justify-center font-bold\">JAN</div>\n                    <div class=\"text-red-500 font-bold text-lg\">15</div>\n                </div>\n                <span class=\"text-white text-xs text-shadow drop-shadow-md\">Calendar</span>\n            </div>\n        </div>\n    </div>\n\n    <!-- Windows Container -->\n    <div id=\"windows-container\" class=\"absolute top-8 left-0 right-0 bottom-12 pointer-events-none\"></div>\n\n    <!-- Dock -->\n    <div class=\"fixed bottom-2 left-1/2 transform -translate-x-1/2 flex items-end pb-2 px-2 dock-glass rounded-2xl z-40\">\n        <div class=\"flex items-end space-x-1 px-2 pt-2 pb-1\">\n            <div class=\"dock-item active cursor-pointer mb-1\" onclick=\"openApp('finder')\" data-app=\"finder\">\n                <div class=\"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center text-2xl shadow-md\">üìÅ</div>\n            </div>\n            <div class=\"dock-item cursor-pointer mb-1\" onclick=\"openApp('preferences')\" data-app=\"preferences\">\n                <div class=\"w-12 h-12 bg-gray-300 rounded-xl flex items-center justify-center text-2xl shadow-md\">‚öôÔ∏è</div>\n            </div>\n            <div class=\"dock-item cursor-pointer mb-1\" onclick=\"openApp('calculator')\" data-app=\"calculator\">\n                <div class=\"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center text-2xl shadow-md\">üßÆ</div>\n            </div>\n            <div class=\"dock-item cursor-pointer mb-1\" onclick=\"openApp('notes')\" data-app=\"notes\">\n                <div class=\"w-12 h-12 bg-yellow-300 rounded-xl flex items-center justify-center text-2xl shadow-md\">üìù</div>\n            </div>\n            <div class=\"dock-item cursor-pointer mb-1\" onclick=\"openApp('calendar')\" data-app=\"calendar\">\n                <div class=\"w-12 h-12 bg-white rounded-xl flex items-center justify-center text-2xl shadow-md overflow-hidden\">\n                    <div class=\"bg-red-500 w-full h-3 text-[6px] text-white flex items-center justify-center font-bold\">JAN</div>\n                    <div class=\"text-red-500 font-bold text-sm\">15</div>\n                </div>\n            </div>\n            <div class=\"w-px h-10 bg-white/30 mx-2 mb-2\"></div>\n            <div class=\"dock-item cursor-pointer mb-1\" onclick=\"toggleSpotlight()\">\n                <div class=\"w-12 h-12 bg-gray-800 rounded-xl flex items-center justify-center text-2xl shadow-md\">üîç</div>\n            </div>\n            <div class=\"dock-item cursor-pointer mb-1\" onclick=\"toggleMissionControl()\">\n                <div class=\"w-12 h-12 bg-gray-700 rounded-xl flex items-center justify-center text-2xl shadow-md\">üóÇÔ∏è</div>\n            </div>\n            <div class=\"dock-item cursor-pointer mb-1\" onclick=\"toggleNotificationCenter()\">\n                <div class=\"w-12 h-12 bg-gray-600 rounded-xl flex items-center justify-center text-2xl shadow-md\">üóëÔ∏è</div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Spotlight -->\n    <div id=\"spotlight\" class=\"hidden fixed inset-0 bg-black/40 backdrop-blur-sm z-[60] flex items-start justify-center pt-48\" onclick=\"if(event.target === this) toggleSpotlight()\">\n        <div class=\"w-[680px] bg-white/90 backdrop-blur-xl rounded-xl shadow-2xl overflow-hidden transform transition-all\">\n            <div class=\"flex items-center px-4 py-3 border-b border-gray-200/50\">\n                <span class=\"text-gray-400 text-xl mr-3\">üîç</span>\n                <input type=\"text\" id=\"spotlight-input\" placeholder=\"Spotlight Search\" class=\"bg-transparent outline-none text-xl w-full text-gray-800 placeholder-gray-400\" oninput=\"updateSpotlight(this.value)\">\n            </div>\n            <div class=\"bg-gray-50/50 p-2 max-h-96 overflow-y-auto\" id=\"spotlight-results\">\n                <div class=\"text-xs text-gray-500 px-3 py-2 uppercase font-semibold tracking-wider\">Top Hit</div>\n                <div class=\"flex items-center p-2 hover:bg-[#0066cc] hover:text-white rounded-lg cursor-pointer group transition-colors\" onclick=\"openApp('finder'); toggleSpotlight()\">\n                    <div class=\"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-xl mr-3 group-hover:scale-110 transition-transform\">üìÅ</div>\n                    <div>\n                        <div class=\"font-medium\">Finder</div>\n                        <div class=\"text-xs opacity-70 group-hover:opacity-90\">Application</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Notification Center -->\n    <div id=\"notification-center\" class=\"notification-center fixed top-8 right-0 bottom-0 w-80 glass-dark z-50 shadow-2xl text-white\">\n        <div class=\"p-4 h-full overflow-y-auto scrollbar-hide\">\n            <div class=\"flex justify-between items-center mb-4\">\n                <h2 class=\"text-lg font-bold\">Notifications</h2>\n                <button onclick=\"toggleNotificationCenter()\" class=\"text-white/70 hover:text-white\">‚úï</button>\n            </div>\n            \n            <div class=\"space-y-3 mb-6\">\n                <div class=\"bg-white/10 rounded-2xl p-4 backdrop-blur-md border border-white/10\">\n                    <div class=\"flex items-start justify-between mb-2\">\n                        <div class=\"flex items-center\">\n                            <div class=\"w-6 h-6 bg-red-500 rounded-lg flex items-center justify-center text-xs mr-2\">üìÖ</div>\n                            <span class=\"font-semibold text-sm\">Calendar</span>\n                        </div>\n                        <span class=\"text-xs text-white/50\">Now</span>\n                    </div>\n                    <div class=\"text-sm font-medium mb-1\">Team Meeting</div>\n                    <div class=\"text-xs text-white/70\">In 15 minutes ‚Ä¢ Conference Room A</div>\n                </div>\n                \n                <div class=\"bg-white/10 rounded-2xl p-4 backdrop-blur-md border border-white/10\">\n                    <div class=\"flex items-start justify-between mb-2\">\n                        <div class=\"flex items-center\">\n                            <div class=\"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center text-xs mr-2\">üí¨</div>\n                            <span class=\"font-semibold text-sm\">Messages</span>\n                        </div>\n                        <span class=\"text-xs text-white/50\">5m ago</span>\n                    </div>\n                    <div class=\"text-sm text-white/90\">New message from John</div>\n                </div>\n            </div>\n            \n            <h3 class=\"text-lg font-bold mb-3\">Today</h3>\n            <div class=\"bg-white/10 rounded-2xl p-6 text-center backdrop-blur-md border border-white/10 mb-4\">\n                <div class=\"text-5xl font-thin mb-2\" id=\"nc-time\">09:41</div>\n                <div class=\"text-sm text-white/70\" id=\"nc-date\">Monday, January 15</div>\n            </div>\n            \n            <div class=\"bg-white/10 rounded-2xl p-4 backdrop-blur-md border border-white/10\">\n                <div class=\"flex justify-between items-center mb-3\">\n                    <span class=\"font-semibold text-sm\">Weather</span>\n                    <span class=\"text-xs text-white/50\">Cupertino</span>\n                </div>\n                <div class=\"flex items-center justify-between\">\n                    <div>\n                        <div class=\"text-3xl font-light\">72¬∞</div>\n                        <div class=\"text-xs text-white/70\">Sunny</div>\n                    </div>\n                    <div class=\"text-4xl\">‚òÄÔ∏è</div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Mission Control -->\n    <div id=\"mission-control\" class=\"mission-control fixed inset-0 bg-gray-900/90 backdrop-blur-xl z-[70] flex flex-col items-center justify-center\" onclick=\"if(event.target === this) toggleMissionControl()\">\n        <div class=\"text-white/50 text-sm mb-8 absolute top-8\">Mission Control</div>\n        \n        <div class=\"flex space-x-6 items-center mb-20\">\n            <div class=\"desktop-thumb active w-80 h-52 bg-gradient-to-br from-purple-600 to-blue-500 rounded-lg border-2 border-white shadow-2xl cursor-pointer relative overflow-hidden\" onclick=\"switchDesktop(1)\">\n                <div class=\"absolute inset-0 flex items-center justify-center\">\n                    <span class=\"text-white/30 font-bold text-2xl\">Desktop 1</span>\n                </div>\n                <div class=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-1.5 h-1.5 bg-white rounded-full\"></div>\n            </div>\n            \n            <div class=\"desktop-thumb w-80 h-52 bg-gradient-to-br from-green-600 to-teal-500 rounded-lg border-2 border-transparent shadow-2xl cursor-pointer relative overflow-hidden\" onclick=\"switchDesktop(2)\">\n                <div class=\"absolute inset-0 flex items-center justify-center\">\n                    <span class=\"text-white/30 font-bold text-2xl\">Desktop 2</span>\n                </div>\n                <div class=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-1.5 h-1.5 bg-white rounded-full\"></div>\n            </div>\n            \n            <div class=\"desktop-thumb w-80 h-52 bg-gradient-to-br from-orange-600 to-red-500 rounded-lg border-2 border-transparent shadow-2xl cursor-pointer relative overflow-hidden\" onclick=\"switchDesktop(3)\">\n                <div class=\"absolute inset-0 flex items-center justify-center\">\n                    <span class=\"text-white/30 font-bold text-2xl\">Desktop 3</span>\n                </div>\n                <div class=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-1.5 h-1.5 bg-white rounded-full\"></div>\n            </div>\n        </div>\n        \n        <div class=\"absolute bottom-8 flex space-x-4\">\n            <button class=\"w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center text-2xl transition-colors\" onclick=\"toggleMissionControl()\">+</button>\n        </div>\n    </div>\n\n    <script>\n        // Clock\n        function updateClock() {\n            const now = new Date();\n            document.getElementById('clock').textContent = now.toLocaleTimeString('en-US', { \n                hour: 'numeric', \n                minute: '2-digit',\n                hour12: true \n            });\n            document.getElementById('nc-time').textContent = now.toLocaleTimeString('en-US', { \n                hour: 'numeric', \n                minute: '2-digit',\n                hour12: false \n            });\n            document.getElementById('nc-date').textContent = now.toLocaleDateString('en-US', { \n                weekday: 'long', \n                month: 'long', \n                day: 'numeric' \n            });\n        }\n        setInterval(updateClock, 1000);\n        updateClock();\n\n        // Window Management\n        let windows = {};\n        let windowCounter = 0;\n        let activeWindowId = null;\n        let zIndex = 100;\n        let currentDesktop = 1;\n\n        function createWindow(app, title, content, width = 600, height = 400) {\n            const id = `window-${++windowCounter}`;\n            const x = 100 + (windowCounter * 30) % 200;\n            const y = 50 + (windowCounter * 30) % 100;\n            \n            const win = document.createElement('div');\n            win.id = id;\n            win.className = 'window pointer-events-auto';\n            win.style.left = `${x}px`;\n            win.style.top = `${y}px`;\n            win.style.width = `${width}px`;\n            win.style.height = `${height}px`;\n            win.style.zIndex = ++zIndex;\n            win.dataset.app = app;\n            win.dataset.desktop = currentDesktop;\n            \n            win.innerHTML = `\n                <div class=\"title-bar h-9 flex items-center px-3 space-x-2 cursor-default select-none\" onmousedown=\"startDrag(event, '${id}')\">\n                    <div class=\"flex space-x-2 group\">\n                        <button class=\"window-btn btn-close flex items-center justify-center text-[8px] text-red-900 opacity-0 group-hover:opacity-100\" onclick=\"closeWindow('${id}')\">√ó</button>\n                        <button class=\"window-btn btn-minimize flex items-center justify-center text-[8px] text-yellow-900 opacity-0 group-hover:opacity-100\" onclick=\"minimizeWindow('${id}')\">‚àí</button>\n                        <button class=\"window-btn btn-maximize flex items-center justify-center text-[8px] text-green-900 opacity-0 group-hover:opacity-100\" onclick=\"maximizeWindow('${id}')\">+</button>\n                    </div>\n                    <div class=\"flex-1 text-center text-xs font-medium text-gray-600 truncate px-4\">${title}</div>\n                </div>\n                <div class=\"content bg-white\" style=\"height: calc(100% - 36px); overflow: auto;\">\n                    ${content}\n                </div>\n                <div class=\"resize-handle\" onmousedown=\"startResize(event, '${id}')\"></div>\n            `;\n            \n            document.getElementById('windows-container').appendChild(win);\n            windows[id] = { element: win, app, x, y, width, height, minimized: false };\n            focusWindow(id);\n            updateActiveApp(app);\n            \n            return id;\n        }\n\n        function startDrag(e, id) {\n            if (e.target.tagName === 'BUTTON') return;\n            focusWindow(id);\n            \n            const win = windows[id];\n            const startX = e.clientX - win.element.offsetLeft;\n            const startY = e.clientY - win.element.offsetTop;\n            \n            function onMouseMove(e) {\n                win.element.style.left = `${e.clientX - startX}px`;\n                win.element.style.top = `${e.clientY - startY}px`;\n                win.x = e.clientX - startX;\n                win.y = e.clientY - startY;\n            }\n            \n            function onMouseUp() {\n                document.removeEventListener('mousemove', onMouseMove);\n                document.removeEventListener('mouseup', onMouseUp);\n            }\n            \n            document.addEventListener('mousemove', onMouseMove);\n            document.addEventListener('mouseup', onMouseUp);\n        }\n\n        function startResize(e, id) {\n            e.stopPropagation();\n            const win = windows[id];\n            const startX = e.clientX;\n            const startY = e.clientY;\n            const startWidth = parseInt(win.element.style.width);\n            const startHeight = parseInt(win.element.style.height);\n            \n            function onMouseMove(e) {\n                const newWidth = Math.max(300, startWidth + e.clientX - startX);\n                const newHeight = Math.max(200, startHeight + e.clientY - startY);\n                win.element.style.width = `${newWidth}px`;\n                win.element.style.height = `${newHeight}px`;\n                win.width = newWidth;\n                win.height = newHeight;\n            }\n            \n            function onMouseUp() {\n                document.removeEventListener('mousemove', onMouseMove);\n                document.removeEventListener('mouseup', onMouseUp);\n            }\n            \n            document.addEventListener('mousemove', onMouseMove);\n            document.addEventListener('mouseup', onMouseUp);\n        }\n\n        function focusWindow(id) {\n            if (!windows[id]) return;\n            zIndex++;\n            windows[id].element.style.zIndex = zIndex;\n            activeWindowId = id;\n            \n            // Update active states\n            Object.values(windows).forEach(w => w.element.classList.remove('active'));\n            windows[id].element.classList.add('active');\n            \n            // Update dock\n            document.querySelectorAll('.dock-item').forEach(item => item.classList.remove('active'));\n            const app = windows[id].app;\n            const dockItem = document.querySelector(`.dock-item[data-app=\"${app}\"]`);\n            if (dockItem) dockItem.classList.add('active');\n            \n            updateActiveApp(app);\n        }\n\n        function closeWindow(id) {\n            if (windows[id]) {\n                windows[id].element.remove();\n                delete windows[id];\n                activeWindowId = null;\n                updateActiveApp('Finder');\n            }\n        }\n\n        function minimizeWindow(id) {\n            if (windows[id]) {\n                windows[id].element.style.display = 'none';\n                windows[id].minimized = true;\n            }\n        }\n\n        function maximizeWindow(id) {\n            const win = windows[id];\n            if (win.element.style.width === '100%') {\n                win.element.style.width = `${win.width}px`;\n                win.element.style.height = `${win.height}px`;\n                win.element.style.left = `${win.x}px`;\n                win.element.style.top = `${win.y}px`;\n            } else {\n                win.element.style.width = '100%';\n                win.element.style.height = 'calc(100vh - 32px)';\n                win.element.style.left = '0';\n                win.element.style.top = '0';\n            }\n        }\n\n        function updateActiveApp(app) {\n            const names = {\n                'finder': 'Finder',\n                'preferences': 'System Preferences',\n                'calculator': 'Calculator',\n                'notes': 'Notes',\n                'calendar': 'Calendar'\n            };\n            document.getElementById('active-app').textContent = names[app] || app;\n        }\n\n        // App Content\n        function openApp(app) {\n            switch(app) {\n                case 'finder':\n                    createWindow('finder', 'Finder', getFinderContent(), 800, 500);\n                    break;\n                case 'preferences':\n                    createWindow('preferences', 'System Preferences', getPreferencesContent(), 700, 500);\n                    break;\n                case 'calculator':\n                    createWindow('calculator', 'Calculator', getCalculatorContent(), 280, 380);\n                    break;\n                case 'notes':\n                    createWindow('notes', 'Notes', getNotesContent(), 600, 500);\n                    break;\n                case 'calendar':\n                    createWindow('calendar', 'Calendar', getCalendarContent(), 700, 500);\n                    break;\n            }\n        }\n\n        function getFinderContent() {\n            return `\n                <div class=\"flex h-full\">\n                    <div class=\"w-48 bg-gray-100 border-r border-gray-200 p-3 text-xs select-none\">\n                        <div class=\"font-semibold text-gray-500 mb-2 px-2\">Favorites</div>\n                        <div class=\"space-y-0.5\">\n                            <div class=\"flex items-center px-2 py-1.5 rounded hover:bg-blue-500 hover:text-white cursor-pointer transition-colors\">\n                                <span class=\"mr-2 text-lg\">üí®</span> AirDrop\n                            </div>\n                            <div class=\"flex items-center px-2 py-1.5 rounded hover:bg-blue-500 hover:text-white cursor-pointer transition-colors\">\n                                <span class=\"mr-2 text-lg\">‚è∞</span> Recents\n                            </div>\n                            <div class=\"flex items-center px-2 py-1.5 rounded hover:bg-blue-500 hover:text-white cursor-pointer transition-colors\">\n                                <span class=\"mr-2 text-lg\">üì±</span> Applications\n                            </div>\n                            <div class=\"flex items-center px-2 py-1.5 rounded hover:bg-blue-500 hover:text-white cursor-pointer transition-colors bg-blue-100 text-blue-900\">\n                                <span class=\"mr-2 text-lg\">üë§</span> Desktop\n                            </div>\n                            <div class=\"flex items-center px-2 py-1.5 rounded hover:bg-blue-500 hover:text-white cursor-pointer transition-colors\">\n                                <span class=\"mr-2 text-lg\">üìÑ</span> Documents\n                            </div>\n                            <div class=\"flex items-center px-2 py-1.5 rounded hover:bg-blue-500 hover:text-white cursor-pointer transition-colors\">\n                                <span class=\"mr-2 text-lg\">‚¨áÔ∏è</span> Downloads\n                            </div>\n                        </div>\n                        <div class=\"font-semibold text-gray-500 mt-4 mb-2 px-2\">Locations</div>\n                        <div class=\"space-y-0.5\">\n                            <div class=\"flex items-center px-2 py-1.5 rounded hover:bg-blue-500 hover:text-white cursor-pointer transition-colors\">\n                                <span class=\"mr-2 text-lg\">üíª</span> Macintosh HD\n                            </div>\n                            <div class=\"flex items-center px-2 py-1.5 rounded hover:bg-blue-500 hover:text-white cursor-pointer transition-colors\">\n                                <span class=\"mr-2 text-lg\">‚òÅÔ∏è</span> iCloud Drive\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"flex-1 bg-white p-4\">\n                        <div class=\"text-sm text-gray-500 mb-3 font-medium\">Desktop</div>\n                        <div class=\"grid grid-cols-4 gap-4\">\n                            <div class=\"flex flex-col items-center p-3 hover:bg-gray-100 rounded-lg cursor-pointer group\">\n                                <div class=\"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center text-3xl mb-2 group-hover:scale-105 transition-transform\">üìÑ</div>\n                                <span class=\"text-xs text-center\">Resume.pdf</span>\n                            </div>\n                            <div class=\"flex flex-col items-center p-3 hover:bg-gray-100 rounded-lg cursor-pointer group\">\n                                <div class=\"w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center text-3xl mb-2 group-hover:scale-105 transition-transform\">üñºÔ∏è</div>\n                                <span class=\"text-xs text-center\">Photo.png</span>\n                            </div>\n                            <div class=\"flex flex-col items-center p-3 hover:bg-gray-100 rounded-lg cursor-pointer group\">\n                                <div class=\"w-16 h-16 bg-yellow-100 rounded-xl flex items-center justify-center text-3xl mb-2 group-hover:scale-105 transition-transform\">üìù</div>\n                                <span class=\"text-xs text-center\">Ideas.txt</span>\n                            </div>\n                            <div class=\"flex flex-col items-center p-3 hover:bg-gray-100 rounded-lg cursor-pointer group\">\n                                <div class=\"w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center text-3xl mb-2 group-hover:scale-105 transition-transform\">üéµ</div>\n                                <span class=\"text-xs text-center\">Song.mp3</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `;\n        }\n\n        function getPreferencesContent() {\n            return `\n                <div class=\"bg-gray-100 h-full p-8 overflow-auto\">\n                    <div class=\"text-2xl font-bold mb-6 text-gray-800\">System Preferences</div>\n                    <div class=\"grid grid-cols-4 gap-6\">\n                        <div class=\"flex flex-col items-center p-4 hover:bg-gray-200/50 rounded-2xl cursor-pointer transition-all hover:scale-105\">\n                            <div class=\"w-16 h-16 bg-gray-400 rounded-xl mb-2 flex items-center justify-center text-3xl shadow-sm\">‚öôÔ∏è</div>\n                            <span class=\"text-xs font-medium text-gray-700\">General</span>\n                        </div>\n                        <div class=\"flex flex-col items-center p-4 hover:bg-gray-200/50 rounded-2xl cursor-pointer transition-all hover:scale-105\">\n                            <div class=\"w-16 h-16 bg-blue-400 rounded-xl mb-2 flex items-center justify-center text-3xl shadow-sm\">üñ±Ô∏è</div>\n                            <span class=\"text-xs font-medium text-gray-700\">Mouse</span>\n                        </div>\n                        <div class=\"flex flex-col items-center p-4 hover:bg-gray-200/50 rounded-2xl cursor-pointer transition-all hover:scale-105\">\n                            <div class=\"w-16 h-16 bg-green-400 rounded-xl mb-2 flex items-center justify-center text-3xl shadow-sm\">‚å®Ô∏è</div>\n                            <span class=\"text-xs font-medium text-gray-700\">Keyboard</span>\n                        </div>\n                        <div class=\"flex flex-col items-center p-4 hover:bg-gray-200/50 rounded-2xl cursor-pointer transition-all hover:scale-105\">\n                            <div class=\"w-16 h-16 bg-purple-400 rounded-xl mb-2 flex items-center justify-center text-3xl shadow-sm\">üñ•Ô∏è</div>\n                            <span class=\"text-xs font-medium text-gray-700\">Displays</span>\n                        </div>\n                        <div class=\"flex flex-col items-center p-4 hover:bg-gray-200/50 rounded-2xl cursor-pointer transition-all hover:scale-105\">\n                            <div class=\"w-16 h-16 bg-pink-400 rounded-xl mb-2 flex items-center justify-center text-3xl shadow-sm\">üîã</div>\n                            <span class=\"text-xs font-medium text-gray-700\">Battery</span>\n                        </div>\n                        <div class=\"flex flex-col items-center p-4 hover:bg-gray-200/50 rounded-2xl cursor-pointer transition-all hover:scale-105\">\n                            <div class=\"w-16 h-16 bg-yellow-400 rounded-xl mb-2 flex items-center justify-center text-3xl shadow-sm\">üåê</div>\n                            <span class=\"text-xs font-medium text-gray-700\">Network</span>\n                        </div>\n                        <div class=\"flex flex-col items-center p-4 hover:bg-gray-200/50 rounded-2xl cursor-pointer transition-all hover:scale-105\">\n                            <div class=\"w-16 h-16 bg-red-400 rounded-xl mb-2 flex items-center justify-center text-3xl shadow-sm\">üîí</div>\n                            <span class=\"text-xs font-medium text-gray-700\">Security</span>\n                        </div>\n                        <div class=\"flex flex-col items-center p-4 hover:bg-gray-200/50 rounded-2xl cursor-pointer transition-all hover:scale-105\">\n                            <div class=\"w-16 h-16 bg-indigo-400 rounded-xl mb-2 flex items-center justify-center text-3xl shadow-sm\">üë§</div>\n                            <span class=\"text-xs font-medium text-gray-700\">Users</span>\n                        </div>\n                    </div>\n                </div>\n            `;\n        }\n\n        function getCalculatorContent() {\n            return `\n                <div class=\"bg-gray-800 h-full p-4 flex flex-col\">\n                    <div class=\"bg-gray-700 h-20 mb-4 rounded-xl flex items-end justify-end px-4 pb-2 text-4xl text-white font-light\" id=\"calc-display\">0</div>\n                    <div class=\"grid grid-cols-4 gap-2 flex-1\">\n                        <button class=\"calc-btn gray rounded-full text-lg font-medium\" onclick=\"calc.clear()\">AC</button>\n                        <button class=\"calc-btn gray rounded-full text-lg font-medium\" onclick=\"calc.toggleSign()\">+/-</button>\n                        <button class=\"calc-btn gray rounded-full text-lg font-medium\" onclick=\"calc.percent()\">%</button>\n                        <button class=\"calc-btn orange rounded-full text-2xl font-medium\" onclick=\"calc.op('√∑')\">√∑</button>\n                        \n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.num('7')\">7</button>\n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.num('8')\">8</button>\n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.num('9')\">9</button>\n                        <button class=\"calc-btn orange rounded-full text-2xl font-medium\" onclick=\"calc.op('√ó')\">√ó</button>\n                        \n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.num('4')\">4</button>\n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.num('5')\">5</button>\n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.num('6')\">6</button>\n                        <button class=\"calc-btn orange rounded-full text-2xl font-medium\" onclick=\"calc.op('-')\">‚àí</button>\n                        \n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.num('1')\">1</button>\n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.num('2')\">2</button>\n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.num('3')\">3</button>\n                        <button class=\"calc-btn orange rounded-full text-2xl font-medium\" onclick=\"calc.op('+')\">+</button>\n                        \n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800 col-span-2\" onclick=\"calc.num('0')\">0</button>\n                        <button class=\"calc-btn rounded-full text-2xl font-medium text-gray-800\" onclick=\"calc.decimal()\">.</button>\n                        <button class=\"calc-btn orange rounded-full text-2xl font-medium\" onclick=\"calc.equals()\">=</button>\n                    </div>\n                </div>\n            `;\n        }\n\n        function getNotesContent() {\n            return `\n                <div class=\"flex h-full\">\n                    <div class=\"w-64 bg-gray-50 border-r border-gray-200 flex flex-col\">\n                        <div class=\"p-3 border-b border-gray-200\">\n                            <div class=\"text-xs font-semibold text-gray-500 mb-2\">iCloud</div>\n                            <div class=\"flex items-center p-2 bg-yellow-100 rounded-lg text-sm text-gray-800 font-medium\">\n                                <span class=\"mr-2\">üìù</span> All iCloud\n                            </div>\n                        </div>\n                        <div class=\"flex-1 overflow-y-auto\">\n                            <div class=\"p-3 border-b border-gray-100 hover:bg-gray-100 cursor-pointer bg-yellow-50\">\n                                <div class=\"font-medium text-sm mb-1\">Shopping List</div>\n                                <div class=\"text-xs text-gray-500\">Today, 2:30 PM</div>\n                            </div>\n                            <div class=\"p-3 border-b border-gray-100 hover:bg-gray-100 cursor-pointer\">\n                                <div class=\"font-medium text-sm mb-1\">Project Ideas</div>\n                                <div class=\"text-xs text-gray-500\">Yesterday</div>\n                            </div>\n                            <div class=\"p-3 border-b border-gray-100 hover:bg-gray-100 cursor-pointer\">\n                                <div class=\"font-medium text-sm mb-1\">Meeting Notes</div>\n                                <div class=\"text-xs text-gray-500\">Jan 14</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"flex-1 bg-white flex flex-col\">\n                        <div class=\"p-4 border-b border-gray-100\">\n                            <div class=\"text-xs text-gray-400 mb-1\">Today, 2:30 PM</div>\n                            <input type=\"text\" value=\"Shopping List\" class=\"text-2xl font-bold outline-none w-full\" />\n                        </div>\n                        <textarea class=\"flex-1 p-4 outline-none resize-none text-gray-700 leading-relaxed\" placeholder=\"Type your note here...\">\n- Milk\n- Eggs\n- Bread\n- Coffee beans\n- Apples\n- Bananas</textarea>\n                    </div>\n                </div>\n            `;\n        }\n\n        function getCalendarContent() {\n            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n            const today = new Date().getDate();\n            let html = `\n                <div class=\"flex flex-col h-full bg-white\">\n                    <div class=\"border-b border-gray-200 p-4 flex items-center justify-between bg-gray-50\">\n                        <div class=\"flex items-center space-x-4\">\n                            <button class=\"px-4 py-1.5 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm font-medium shadow-sm\">Today</button>\n                            <div class=\"text-lg font-semibold text-gray-800\">January 2024</div>\n                        </div>\n                        <div class=\"flex space-x-1\">\n                            <button class=\"p-1.5 hover:bg-gray-200 rounded-full w-8 h-8 flex items-center justify-center text-gray-600\">‚Äπ</button>\n                            <button class=\"p-1.5 hover:bg-gray-200 rounded-full w-8 h-8 flex items-center justify-center text-gray-600\">‚Ä∫</button>\n                        </div>\n                    </div>\n                    <div class=\"grid grid-cols-7 border-b border-gray-200 bg-gray-50\">\n                        ${days.map(d => `<div class=\"p-3 text-center text-xs font-semibold text-gray-600 border-r border-gray-100 last:border-r-0\">${d}</div>`).join('')}\n                    </div>\n                    <div class=\"grid grid-cols-7 flex-1 auto-rows-fr\">\n            `;\n            \n            // Fill in days\n            for (let i = 0; i < 31; i++) {\n                const day = i + 1;\n                const isToday = day === today;\n                const hasEvent = [5, 12, 15, 22].includes(day);\n                html += `\n                    <div class=\"border-r border-b border-gray-100 p-2 text-sm hover:bg-gray-50 cursor-pointer relative ${isToday ? 'bg-blue-50' : ''}\">\n                        <span class=\"${isToday ? 'bg-red-500 text-white w-7 h-7 rounded-full flex items-center justify-center font-medium' : 'text-gray-700'}\">${day}</span>\n                        ${hasEvent ? '<div class=\"mt-1 text-[10px] bg-blue-500 text-white px-1.5 py-0.5 rounded truncate\">Meeting</div>' : ''}\n                    </div>\n                `;\n            }\n            \n            html += `</div></div>`;\n            return html;\n        }\n\n        // Calculator Logic\n        const calc = {\n            display: '0',\n            firstNum: null,\n            operation: null,\n            waiting: false,\n            \n            update() {\n                const el = document.getElementById('calc-display');\n                if (el) el.textContent = this.display;\n            },\n            \n            num(n) {\n                if (this.waiting) {\n                    this.display = n;\n                    this.waiting = false;\n                } else {\n                    this.display = this.display === '0' ? n : this.display + n;\n                }\n                this.update();\n            },\n            \n            decimal() {\n                if (!this.display.includes('.')) {\n                    this.display += '.';\n                    this.update();\n                }\n            },\n            \n            op(operator) {\n                this.firstNum = parseFloat(this.display);\n                this.operation = operator;\n                this.waiting = true;\n            },\n            \n            equals() {\n                if (this.operation && this.firstNum !== null) {\n                    const second = parseFloat(this.display);\n                    let result;\n                    switch(this.operation) {\n                        case '+': result = this.firstNum + second; break;\n                        case '-': result = this.firstNum - second; break;\n                        case '√ó': result = this.firstNum * second; break;\n                        case '√∑': result = this.firstNum / second; break;\n                    }\n                    this.display = String(Math.round(result * 1000000) / 1000000);\n                    this.operation = null;\n                    this.firstNum = null;\n                    this.waiting = true;\n                    this.update();\n                }\n            },\n            \n            clear() {\n                this.display = '0';\n                this.firstNum = null;\n                this.operation = null;\n                this.waiting = false;\n                this.update();\n            },\n            \n            toggleSign() {\n                this.display = String(parseFloat(this.display) * -1);\n                this.update();\n            },\n            \n            percent() {\n                this.display = String(parseFloat(this.display) / 100);\n                this.update();\n            }\n        };\n\n        // Spotlight\n        function toggleSpotlight() {\n            const el = document.getElementById('spotlight');\n            const input = document.getElementById('spotlight-input');\n            el.classList.toggle('hidden');\n            if (!el.classList.contains('hidden')) {\n                input.value = '';\n                input.focus();\n                updateSpotlight('');\n            }\n        }\n\n        function updateSpotlight(query) {\n            const results = document.getElementById('spotlight-results');\n            const apps = [\n                { name: 'Finder', icon: 'üìÅ', app: 'finder', type: 'Application' },\n                { name: 'System Preferences', icon: '‚öôÔ∏è', app: 'preferences', type: 'Application' },\n                { name: 'Calculator', icon: 'üßÆ', app: 'calculator', type: 'Application' },\n                { name: 'Notes', icon: 'üìù', app: 'notes', type: 'Application' },\n                { name: 'Calendar', icon: 'üìÖ', app: 'calendar', type: 'Application' }\n            ];\n            \n            const filtered = apps.filter(a => a.name.toLowerCase().includes(query.toLowerCase()));\n            \n            results.innerHTML = filtered.map(app => `\n                <div class=\"flex items-center p-2 hover:bg-[#0066cc] hover:text-white rounded-lg cursor-pointer group transition-colors\" onclick=\"openApp('${app.app}'); toggleSpotlight()\">\n                    <div class=\"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center text-xl mr-3 group-hover:scale-110 transition-transform\">${app.icon}</div>\n                    <div>\n                        <div class=\"font-medium\">${app.name}</div>\n                        <div class=\"text-xs opacity-70 group-hover:opacity-90\">${app.type}</div>\n                    </div>\n                </div>\n            `).join('');\n        }\n\n        // Notification Center\n        function toggleNotificationCenter() {\n            const el = document.getElementById('notification-center');\n            el.classList.toggle('open');\n        }\n\n        // Mission Control\n        function toggleMissionControl() {\n            const el = document.getElementById('mission-control');\n            el.classList.toggle('active');\n        }\n\n        function switchDesktop(n) {\n            currentDesktop = n;\n            toggleMissionControl();\n            \n            // Update visual indicators\n            document.querySelectorAll('.desktop-thumb').forEach((el, i) => {\n                if (i + 1 === n) {\n                    el.classList.add('active');\n                    el.style.borderColor = 'white';\n                } else {\n                    el.classList.remove('active');\n                    el.style.borderColor = 'transparent';\n                }\n            });\n            \n            // Filter windows by desktop (simulated)\n            Object.values(windows).forEach(win => {\n                win.element.style.opacity = win.element.dataset.desktop == n ? '1' : '0.3';\n            });\n        }\n\n        // Keyboard Shortcuts\n        document.addEventListener('keydown', (e) => {\n            if ((e.metaKey || e.ctrlKey) && e.key === ' ') {\n                e.preventDefault();\n                toggleSpotlight();\n            }\n            if (e.key === 'F3' || (e.key === 'ArrowUp' && e.ctrlKey)) {\n                e.preventDefault();\n                toggleMissionControl();\n            }\n        });\n\n        // Global click handlers\n        document.addEventListener('click', (e) => {\n            // Close menus when clicking outside\n            if (!e.target.closest('.menu-item')) {\n                document.querySelectorAll('.menu-dropdown').forEach(d => d.style.display = '');\n            }\n            \n            // Focus window when clicking inside\n            const windowEl = e.target.closest('.window');\n            if (windowEl) {\n                focusWindow(windowEl.id);\n            }\n        });\n\n        // Initialize\n        updateClock();\n    </script>\n</body>\n</html>"
}