{
  "text": " ```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Interactive 3D Earth Experience</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <style>\n        body { margin: 0; overflow: hidden; background-color: #000; font-family: 'Inter', sans-serif; }\n        #canvas-container { width: 100vw; height: 100vh; display: block; }\n        \n        /* Custom scrollbar for the info panel */\n        .custom-scroll::-webkit-scrollbar { width: 6px; }\n        .custom-scroll::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); }\n        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(56, 189, 248, 0.5); border-radius: 3px; }\n        \n        .glass-panel {\n            background: rgba(15, 23, 42, 0.75);\n            backdrop-filter: blur(12px);\n            -webkit-backdrop-filter: blur(12px);\n            border: 1px solid rgba(255, 255, 255, 0.1);\n            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);\n        }\n\n        .loading-overlay {\n            position: absolute; top: 0; left: 0; width: 100%; height: 100%;\n            background: #000; z-index: 50; display: flex; flex-direction: column;\n            align-items: center; justify-content: center; transition: opacity 1s ease-out;\n        }\n        \n        .fade-out { opacity: 0; pointer-events: none; }\n    </style>\n    \n    <!-- Import Map for Three.js -->\n    <script type=\"importmap\">\n        {\n            \"imports\": {\n                \"three\": \"https://unpkg.com/three@0.160.0/build/three.module.js\",\n                \"three/addons/\": \"https://unpkg.com/three@0.160.0/examples/jsm/\"\n            }\n        }\n    </script>\n</head>\n<body class=\"text-white antialiased\">\n\n    <!-- Loading Screen -->\n    <div id=\"loader\" class=\"loading-overlay\">\n        <div class=\"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4\"></div>\n        <h2 class=\"text-xl font-light tracking-widest text-blue-400\">INITIALIZING ORBITAL DATA...</h2>\n    </div>\n\n    <!-- UI Overlay -->\n    <div class=\"absolute top-0 left-0 w-full h-full pointer-events-none z-10 flex flex-col justify-between p-6\">\n        \n        <!-- Header -->\n        <header class=\"pointer-events-auto\">\n            <h1 class=\"text-4xl font-bold tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-cyan-300 drop-shadow-lg\">\n                EARTH OS\n            </h1>\n            <p class=\"text-sm text-slate-400 mt-1\">Interactive Planetary Model v1.0</p>\n        </header>\n\n        <!-- Info Popup (Hidden by default) -->\n        <div id=\"info-panel\" class=\"pointer-events-auto absolute top-1/2 right-6 transform -translate-y-1/2 translate-x-full transition-transform duration-500 ease-out w-80 glass-panel rounded-xl p-6 opacity-0\">\n            <div class=\"flex justify-between items-start mb-4\">\n                <h2 id=\"loc-title\" class=\"text-2xl font-bold text-cyan-300\">Location Name</h2>\n                <button id=\"close-btn\" class=\"text-slate-400 hover:text-white transition-colors\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                </button>\n            </div>\n            <div class=\"space-y-4\">\n                <div class=\"flex items-center space-x-3 text-sm text-slate-300\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 text-blue-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                    </svg>\n                    <span id=\"loc-coords\">Lat: 00.00, Lng: 00.00</span>\n                </div>\n                <p id=\"loc-desc\" class=\"text-slate-300 leading-relaxed text-sm custom-scroll max-h-40 overflow-y-auto\">\n                    Description text goes here.\n                </p>\n                <div class=\"pt-4 border-t border-slate-700\">\n                    <div class=\"flex justify-between text-xs text-slate-500 uppercase tracking-wider\">\n                        <span>Population</span>\n                        <span id=\"loc-pop\" class=\"text-white\">Unknown</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Instructions -->\n        <div class=\"pointer-events-auto self-center glass-panel px-6 py-3 rounded-full text-sm text-slate-300 flex items-center gap-4 animate-bounce-slight\">\n            <span class=\"flex items-center gap-2\"><span class=\"w-2 h-2 bg-blue-400 rounded-full animate-pulse\"></span> Click markers to explore</span>\n            <span class=\"h-4 w-px bg-slate-600\"></span>\n            <span class=\"flex items-center gap-2\">Drag to rotate</span>\n        </div>\n    </div>\n\n    <!-- 3D Canvas Container -->\n    <div id=\"canvas-container\"></div>\n\n    <script type=\"module\">\n        import * as THREE from 'three';\n        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';\n\n        // --- Configuration ---\n        const TEXTURE_PATH = 'https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/';\n        \n        // --- State ---\n        let scene, camera, renderer, controls;\n        let earthMesh, atmosphereMesh, starMesh;\n        let markers = [];\n        let raycaster = new THREE.Raycaster();\n        let mouse = new THREE.Vector2();\n        let isRotating = true;\n        let activeMarker = null;\n\n        // --- Data: Major Cities/Locations ---\n        const locations = [\n            {\n                name: \"New York City\",\n                lat: 40.7128,\n                lon: -74.0060,\n                pop: \"8.8 Million\",\n                desc: \"The most populous city in the United States, known for its iconic skyline, Central Park, and as a global hub for finance and culture.\"\n            },\n            {\n                name: \"London\",\n                lat: 51.5074,\n                lon: -0.1278,\n                pop: \"8.9 Million\",\n                desc: \"The capital of England and the United Kingdom, a 21st-century city with history stretching back to Roman times.\"\n            },\n            {\n                name: \"Tokyo\",\n                lat: 35.6762,\n                lon: 139.6503,\n                pop: \"13.9 Million\",\n                desc: \"Japan's busy capital, mixes the ultramodern and the traditional, from neon-lit skyscrapers to historic temples.\"\n            },\n            {\n                name: \"Sydney\",\n                lat: -33.8688,\n                lon: 151.2093,\n                pop: \"5.3 Million\",\n                desc: \"Capital of New South Wales and one of Australia's largest cities, best known for its harbourfront Sydney Opera House.\"\n            },\n            {\n                name: \"Rio de Janeiro\",\n                lat: -22.9068,\n                lon: -43.1729,\n                pop: \"6.7 Million\",\n                desc: \"A huge seaside city in Brazil, famed for its Copacabana and Ipanema beaches and Christ the Redeemer statue.\"\n            },\n            {\n                name: \"Cairo\",\n                lat: 30.0444,\n                lon: 31.2357,\n                pop: \"9.9 Million\",\n                desc: \"Egypt’s sprawling capital, set on the Nile River. At its heart is Tahrir Square and the vast Egyptian Museum.\"\n            },\n            {\n                name: \"Cape Town\",\n                lat: -33.9249,\n                lon: 18.4241,\n                pop: \"4.6 Million\",\n                desc: \"A port city on South Africa’s southwest coast, on a peninsula beneath the imposing Table Mountain.\"\n            },\n            {\n                name: \"Singapore\",\n                lat: 1.3521,\n                lon: 103.8198,\n                pop: \"5.6 Million\",\n                desc: \"An island city-state off southern Malaysia, a global financial center with a tropical climate and multicultural population.\"\n            }\n        ];\n\n        // --- Initialization ---\n        function init() {\n            const container = document.getElementById('canvas-container');\n\n            // Scene\n            scene = new THREE.Scene();\n            // Create a subtle gradient background using a large sphere or just color\n            scene.background = new THREE.Color(0x020205);\n\n            // Camera\n            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\n            camera.position.z = 22; // Initial zoom\n            camera.position.y = 8;\n\n            // Renderer\n            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.setPixelRatio(window.devicePixelRatio);\n            // Tone mapping for realistic lighting falloff\n            renderer.toneMapping = THREE.ACESFilmicToneMapping;\n            renderer.outputColorSpace = THREE.SRGBColorSpace;\n            container.appendChild(renderer.domElement);\n\n            // Controls\n            controls = new OrbitControls(camera, renderer.domElement);\n            controls.enableDamping = true;\n            controls.dampingFactor = 0.05;\n            controls.enablePan = false;\n            controls.minDistance = 12;\n            controls.maxDistance = 35;\n            controls.autoRotate = true;\n            controls.autoRotateSpeed = 0.8;\n\n            // Lighting\n            setupLighting();\n\n            // Objects\n            createStars();\n            createEarth();\n            createAtmosphere();\n            createMarkers();\n\n            // Event Listeners\n            window.addEventListener('resize', onWindowResize);\n            window.addEventListener('click', onMouseClick);\n\n            // Remove Loader\n            setTimeout(() => {\n                document.getElementById('loader').classList.add('fade-out');\n            }, 1500);\n\n            animate();\n        }\n\n        function setupLighting() {\n            const ambientLight = new THREE.AmbientLight(0x333333, 0.5); // Soft white light\n            scene.add(ambientLight);\n\n            const sunLight = new THREE.DirectionalLight(0xffffff, 2.5);\n            sunLight.position.set(50, 20, 30);\n            scene.add(sunLight);\n            \n            // Add a subtle backlight for atmosphere effect\n            const backLight = new THREE.DirectionalLight(0x4455ff, 0.5);\n            backLight.position.set(-20, 0, -20);\n            scene.add(backLight);\n        }\n\n        function createStars() {\n            const starGeometry = new THREE.BufferGeometry();\n            const starMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 0.1, transparent: true, opacity: 0.8 });\n            \n            const starCount = 3000;\n            const positions = new Float32Array(starCount * 3);\n            \n            for(let i = 0; i < starCount * 3; i++) {\n                positions[i] = (Math.random() - 0.5) * 200; // Spread stars wide\n            }\n            \n            starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n            starMesh = new THREE.Points(starGeometry, starMaterial);\n            scene.add(starMesh);\n        }\n\n        function createEarth() {\n            const earthGroup = new THREE.Group();\n\n            // 1. Base Sphere\n            const geometry = new THREE.SphereGeometry(5, 64, 64);\n            \n            // Texture Loader\n            const textureLoader = new THREE.TextureLoader();\n            \n            // Using reliable raw github paths for textures\n            const earthMap = textureLoader.load(TEXTURE_PATH + 'earth_atmos_2048.jpg');\n            const earthBump = textureLoader.load(TEXTURE_PATH + 'earth_normal_2048.jpg');\n            const earthSpec = textureLoader.load(TEXTURE_PATH + 'earth_specular_2048.jpg');\n\n            const material = new THREE.MeshPhongMaterial({\n                map: earthMap,\n                normalMap: earthBump,\n                specularMap: earthSpec,\n                specular: new THREE.Color(0x333333),\n                shininess: 15\n            });\n\n            earthMesh = new THREE.Mesh(geometry, material);\n            earthGroup.add(earthMesh);\n\n            // 2. Wireframe Grid (Lat/Long lines simulation)\n            const wireGeo = new THREE.WireframeGeometry(new THREE.SphereGeometry(5.05, 24, 24));\n            const wireMat = new THREE.LineBasicMaterial({ color: 0x44aaff, transparent: true, opacity: 0.08 });\n            const wireMesh = new THREE.LineSegments(wireGeo, wireMat);\n            earthGroup.add(wireMesh);\n\n            scene.add(earthGroup);\n        }\n\n        function createAtmosphere() {\n            const vertexShader = `\n                varying vec3 vNormal;\n                void main() {\n                    vNormal = normalize(normalMatrix * normal);\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                }\n            `;\n\n            const fragmentShader = `\n                varying vec3 vNormal;\n                void main() {\n                    float intensity = pow(0.6 - dot(vNormal, vec3(0, 0, 1.0)), 4.0);\n                    gl_FragColor = vec4(0.3, 0.6, 1.0, 1.0) * intensity;\n                }\n            `;\n\n            const geometry = new THREE.SphereGeometry(5.2, 64, 64);\n            const material = new THREE.ShaderMaterial({\n                vertexShader: vertexShader,\n                fragmentShader: fragmentShader,\n                blending: THREE.AdditiveBlending,\n                side: THREE.BackSide,\n                transparent: true\n            });\n\n            atmosphereMesh = new THREE.Mesh(geometry, material);\n            scene.add(atmosphereMesh);\n        }\n\n        function latLonToVector3(lat, lon, radius) {\n            const phi = (90 - lat) * (Math.PI / 180);\n            const theta = (lon + 180) * (Math.PI / 180);\n\n            const x = -(radius * Math.sin(phi) * Math.cos(theta));\n            const z = (radius * Math.sin(phi) * Math.sin(theta));\n            const y = (radius * Math.cos(phi));\n\n            return new THREE.Vector3(x, y, z);\n        }\n\n        function createMarkers() {\n            const geometry = new THREE.SphereGeometry(0.08, 16, 16);\n            const material = new THREE.MeshBasicMaterial({ color: 0x00ffff });\n\n            locations.forEach(loc => {\n                const marker = new THREE.Mesh(geometry, material);\n                const pos = latLonToVector3(loc.lat, loc.lon, 5.1); // Slightly above earth surface\n                \n                marker.position.copy(pos);\n                marker.userData = { ...loc, isMarker: true }; // Store data for click\n                \n                // Add a glow sprite for the marker\n                const spriteMat = new THREE.SpriteMaterial({ \n                    color: 0x00ffff, \n                    transparent: true, \n                    opacity: 0.6,\n                    blending: THREE.AdditiveBlending\n                });\n                const sprite = new THREE.Sprite(spriteMat);\n                sprite.scale.set(0.6, 0.6, 0.6);\n                marker.add(sprite);\n\n                scene.add(marker);\n                markers.push(marker);\n            });\n        }\n\n        // --- Interaction ---\n        function onMouseClick(event) {\n            // Calculate mouse position in normalized device coordinates\n            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n\n            raycaster.setFromCamera(mouse, camera);\n\n            const intersects = raycaster.intersectObjects(markers);\n\n            if (intersects.length > 0) {\n                const object = intersects[0].object;\n                selectMarker(object);\n            } else {\n                // Check if clicked on empty space to close panel\n                const panel = document.getElementById('info-panel');\n                if (!panel.contains(event.target) && !event.target.closest('#close-btn')) {\n                    closeInfoPanel();\n                }\n            }\n        }\n\n        function selectMarker(marker) {\n            activeMarker = marker;\n            \n            // Visual feedback\n            markers.forEach(m => {\n                m.material.color.setHex(0x00ffff);\n                m.scale.set(1,1,1);\n            });\n            marker.material.color.setHex(0xff0055); // Highlight red\n            marker.scale.set(1.5, 1.5, 1.5);\n\n            // Update UI\n            const data = marker.userData;\n            document.getElementById('loc-title').textContent = data.name;\n            document.getElementById('loc-coords').textContent = `Lat: ${data.lat}, Lng: ${data.lon}`;\n            document.getElementById('loc-desc').textContent = data.desc;\n            document.getElementById('loc-pop').textContent = data.pop;\n\n            showInfoPanel();\n            \n            // Stop rotation when interacting\n            controls.autoRotate = false;\n        }\n\n        function showInfoPanel() {\n            const panel = document.getElementById('info-panel');\n            panel.classList.remove('translate-x-full', 'opacity-0');\n        }\n\n        function closeInfoPanel() {\n            const panel = document.getElementById('info-panel');\n            panel.classList.add('translate-x-full', 'opacity-0');\n            \n            // Reset markers\n            if(activeMarker) {\n                activeMarker.material.color.setHex(0x00ffff);\n                activeMarker.scale.set(1,1,1);\n                activeMarker = null;\n            }\n\n            controls.autoRotate = true;\n        }\n\n        document.getElementById('close-btn').addEventListener('click', closeInfoPanel);\n\n        function onWindowResize() {\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n        }\n\n        // --- Animation Loop ---\n        function animate() {\n            requestAnimationFrame(animate);\n\n            controls.update();\n            \n            // Animate markers (pulse effect)\n            const time = Date.now() * 0.002;\n            markers.forEach((marker, i) => {\n                if(marker !== activeMarker) {\n                    const scale = 1 + Math.sin(time + i) * 0.2;\n                    marker.children[0].scale.set(scale * 0.6, scale * 0.6, scale * 0.6); // Scale the sprite\n                }\n            });\n\n            // Slowly rotate stars\n            if(starMesh) {\n                starMesh.rotation.y += 0.0002;\n            }\n\n            renderer.render(scene, camera);\n        }\n\n        // Start\n        init();\n\n    </script>\n</body>\n</html>\n```"
}